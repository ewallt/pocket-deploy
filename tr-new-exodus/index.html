<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Jesus and the New Exodus</title>

  <!-- Tailwind (with Typography) -->
  <script>
    tailwind = { config: { darkMode: 'class' } };
  </script>
  <script defer src="https://cdn.tailwindcss.com?plugins=typography"></script>

  <!-- Optional: Blue Letter Bible verse tagger (safe to leave in) -->
  <script src="https://www.blueletterbible.org/scripts/blbToolTip/BLB_ScriptTagger-min.js"></script>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">

  <style>
    :root { color-scheme: light dark; }
    html { scroll-behavior: smooth; }
    .font-newspaper { font-family: 'Lora', serif; }
    /* Simple gradient banner */
    .hero { background: radial-gradient(60% 120% at 10% 10%, rgba(49,46,129,.18), transparent 60%),
                     radial-gradient(80% 120% at 90% 10%, rgba(234,88,12,.15), transparent 70%),
                     linear-gradient(180deg, rgba(14,165,233,.10), transparent 35%); }
    /* Timeline dots */
    .step-dot { width: 14px; height: 14px; border-radius: 9999px; border: 2px solid currentColor; background: currentColor; }
    .step-line { height: 2px; background: currentColor; opacity: .35; }
    /* Sidebar highlight */
    .active-link { color: rgb(59,130,246); font-weight: 700; }
    /* Mark highlight */
    mark { background: #fde68a; padding: .1em .2em; border-radius: .2rem; }
    /* Mobile anchor comfort so headings don't hide under top chrome */
    :where(h2,h3,h4){ scroll-margin-top: 84px; }
    /* Slightly tighter prose on very small phones */
    @media (max-width: 380px){ .prose { font-size: 0.96rem; } }
#themeToggle { display: none !important; }
  </style>
</head>

<body class="bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100 pb-[env(safe-area-inset-bottom)]">
  <!-- Theme bootstrap (respect saved preference) -->
  <script>
    (function(){
      try {
        const saved = localStorage.getItem('theme');
        if (saved === 'dark' || (!saved && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
          document.documentElement.classList.add('dark');
        }
      } catch (_) {}
    })();
  </script>

  <!-- Page -->
  <header id="top" class="hero border-b border-slate-200/60 dark:border-slate-800/60">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 flex items-center justify-between gap-4">
      <div>
        <h1 class="text-2xl sm:text-3xl font-bold font-newspaper tracking-tight">Jesus and the New Exodus</h1>
        <p class="text-sm sm:text-base text-slate-600 dark:text-slate-400">Fulfilling the Story of Israel — a compact reader you can run locally.</p>
      </div>
      <div class="flex items-center gap-2">
        <label for="search" class="sr-only">Search</label>
        <input id="search" type="search" placeholder="Search…" class="hidden md:block w-56 rounded-xl border border-slate-300/70 dark:border-slate-700/70 bg-white/70 dark:bg-slate-900/60 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-400" />
        <button id="clearSearch" class="hidden md:inline-flex text-xs px-2 py-2 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-900" title="Clear search">Clear</button>
        <button id="themeToggle" class="inline-flex items-center justify-center rounded-xl border border-slate-200 dark:border-slate-700 px-3 py-2 text-sm hover:bg-slate-50 dark:hover:bg-slate-900" title="Toggle dark mode">
          <span class="inline md:hidden">Theme</span>
          <svg aria-hidden="true" class="w-5 h-5 hidden dark:block" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
          <svg aria-hidden="true" class="w-5 h-5 dark:hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="12" cy="12" r="5"/><path d="M12 1v2m0 18v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2m18 0h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>
        </button>
      </div>
    </div>

    <!-- Timeline -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-6">
      <nav aria-label="Journey timeline" class="text-slate-500 dark:text-slate-400">
        <ol class="grid grid-cols-3 sm:grid-cols-6 items-center gap-x-2 gap-y-1 text-[11px] sm:text-sm">
          <li class="flex items-center gap-2"><span class="step-dot"></span><a href="#egypt" class="hover:underline">Egypt</a></li>
          <li class="step-line"></li>
          <li class="flex items-center gap-2"><span class="step-dot"></span><a href="#jordan" class="hover:underline">Jordan</a></li>
          <li class="step-line"></li>
          <li class="flex items-center gap-2"><span class="step-dot"></span><a href="#wilderness" class="hover:underline">Wilderness</a></li>
          <li class="flex items-center gap-2"><span class="step-dot"></span><a href="#sinai" class="hover:underline">Sinai → Cross</a></li>
        </ol>
        <div class="mt-2 text-[11px] sm:text-xs">Coda: <a href="#resurrection" class="underline decoration-dotted">Resurrection & New Creation</a></div>
      </nav>
    </div>
  </header>

  <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 grid grid-cols-1 lg:grid-cols-[260px_minmax(0,1fr)] gap-8">
    <!-- Sidebar -->
    <aside class="lg:sticky lg:top-4 h-max">
      <nav aria-label="On this page" class="rounded-2xl border border-slate-200 dark:border-slate-800 p-4">
        <h2 class="text-sm font-semibold mb-2">Sections</h2>
        <ol id="toc" class="space-y-1 text-sm">
          <li><a href="#intro" class="block px-2 py-1.5 rounded hover:bg-slate-50 dark:hover:bg-slate-900">Introduction</a></li>
          <li><a href="#egypt" class="block px-2 py-1.5 rounded hover:bg-slate-50 dark:hover:bg-slate-900">1) Egypt & Bondage</a></li>
          <li><a href="#jordan" class="block px-2 py-1.5 rounded hover:bg-slate-50 dark:hover:bg-slate-900">2) Jordan & the Sea</a></li>
          <li><a href="#wilderness" class="block px-2 py-1.5 rounded hover:bg-slate-50 dark:hover:bg-slate-900">3) Wilderness Testing</a></li>
          <li><a href="#sinai" class="block px-2 py-1.5 rounded hover:bg-slate-50 dark:hover:bg-slate-900">4) Sinai → Cross</a></li>
          <li><a href="#resurrection" class="block px-2 py-1.5 rounded hover:bg-slate-50 dark:hover:bg-slate-900">Resurrection & New Creation</a></li>
        </ol>
        <hr class="my-4 border-slate-200 dark:border-slate-800" />
        <button id="expandAll" class="w-full text-xs px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-900">Expand All</button>
        <button id="collapseAll" class="mt-2 w-full text-xs px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-900">Collapse All</button>
      </nav>
      <div class="mt-4 text-xs text-slate-500 dark:text-slate-400">
        Tip: Use the search bar to highlight words across the page. Verse references auto-link via BLB.
      </div>
    </aside>

    <!-- Content -->
    <section id="content" class="prose prose-slate dark:prose-invert max-w-none">
      <article id="intro" class="rounded-2xl border border-slate-200 dark:border-slate-800 p-6">
        <h2>Jesus and the New Exodus: Fulfilling the Story of Israel</h2>
        <p>A central theme in the New Testament, powerfully articulated by scholars like N. T. Wright, is that Jesus did not come merely to teach or perform miracles. He came to embody and complete the story of Israel. He saw himself as the one-man Israel, succeeding where the nation had failed, and in doing so, launching a “New Exodus” — a rescue from the true slavery of sin and death for the whole world. The Gospels present Jesus’s life as a deliberate reliving and fulfillment of Israel’s original Exodus journey.</p>
        <details class="mt-4">
          <summary class="font-semibold">Key Texts</summary>
          <ul>
            <li><span>Hosea 11:1</span>; <span>Exodus 4:22</span>; <span>Psalm 77</span></li>
            <li><span>Matthew 2–7</span>; <span>Matthew 3:17</span>; <span>Matthew 4:1–11</span></li>
            <li><span>Luke 9:28–31</span>; <span>John 1:29</span>; <span>1 Corinthians 10:1–4</span></li>
          </ul>
        </details>
      </article>

      <article id="egypt" class="mt-6 rounded-2xl border border-slate-200 dark:border-slate-800 p-6">
        <h2>1) Egypt and Bondage: A New Pharaoh</h2>
        <p>The original Exodus began with Israel in bondage to Pharaoh in Egypt. The Gospels frame Jesus’s own story in a similar context.</p>
        <div class="grid sm:grid-cols-2 gap-4">
          <section class="rounded-xl bg-slate-50/60 dark:bg-slate-900/40 p-4">
            <h3 class="mt-0">A New “Egypt”</h3>
            <p>Jesus is born into a land under the oppressive rule of a new foreign power: Rome. The people longed for a new liberation, not just from a political “pharaoh,” but from the spiritual exile and sin that had led to their predicament.</p>
          </section>
          <section class="rounded-xl bg-slate-50/60 dark:bg-slate-900/40 p-4">
            <h3 class="mt-0">A Literal Return to Egypt</h3>
            <p>In <span>Matthew 2</span>, the infant Jesus is taken into Egypt to escape the murderous decree of King Herod—functioning as a new Pharaoh. <span>Matthew 2:15</span> then quotes <span>Hosea 11:1</span>, “Out of Egypt I called my son.” In its original context, this verse referred to Israel; by applying it to Jesus, Matthew claims Jesus is God’s true Son, the embodiment of Israel, beginning the story again.</p>
          </section>
        </div>
      </article>

      <article id="jordan" class="mt-6 rounded-2xl border border-slate-200 dark:border-slate-800 p-6">
        <h2>2) The Jordan and the Sea: A New Baptism</h2>
        <p>The defining moment of Israel’s liberation was the crossing of the Red Sea. The Gospels present Jesus’s baptism as the start of his New Exodus.</p>
        <ul>
          <li><strong>Passing Through the Waters:</strong> Jesus begins his public ministry by passing through the waters of the Jordan River. This is not merely private piety; it is a public identification with his people’s story.</li>
          <li><strong>The Voice of the Father:</strong> As Jesus comes up from the water, the Father declares, “This is my beloved Son, with whom I am well pleased” (<span>Matthew 3:17</span>). This echoes God’s description of Israel as his “firstborn son” (<span>Exodus 4:22</span>). At the water’s edge, Jesus is commissioned as the true Son who will succeed where Israel faltered.</li>
        </ul>
        <aside class="mt-4 text-sm text-slate-600 dark:text-slate-400">
          See also <span>1 Corinthians 10:1–4</span> for Paul’s framing of Israel’s passage through the sea as a kind of baptism.
        </aside>
      </article>

      <article id="wilderness" class="mt-6 rounded-2xl border border-slate-200 dark:border-slate-800 p-6">
        <h2>3) The Wilderness: A New Testing</h2>
        <p>After the Red Sea, Israel endured forty years of testing in the wilderness, where they repeatedly failed. Jesus immediately enters the wilderness for forty days to face the same tests.</p>
        <div class="grid md:grid-cols-3 gap-4">
          <section class="rounded-xl bg-amber-50/50 dark:bg-amber-900/20 p-4">
            <h3 class="mt-0">Bread (Provision)</h3>
            <p>Israel grumbled for food (<span>Exodus 16</span>). Though hungry, Jesus trusts God’s word for sustenance: “Man shall not live by bread alone” (<span>Matthew 4:4</span>).</p>
          </section>
          <section class="rounded-xl bg-blue-50/50 dark:bg-blue-900/20 p-4">
            <h3 class="mt-0">Testing God</h3>
            <p>Israel tested God at Massah (<span>Exodus 17</span>). Jesus refuses to put the Lord to the test (<span>Matthew 4:7</span>).</p>
          </section>
          <section class="rounded-xl bg-rose-50/50 dark:bg-rose-900/20 p-4">
            <h3 class="mt-0">Idolatry</h3>
            <p>Israel bowed to the golden calf (<span>Exodus 32</span>). Jesus pledges allegiance to God alone: “You shall worship the Lord your God…” (<span>Matthew 4:10</span>).</p>
          </section>
        </div>
        <p class="mt-4"><strong>The Faithful Son:</strong> In forty days, Jesus succeeds where Israel failed for forty years. He proves himself the faithful Son, ready to lead his people out of their spiritual wilderness.</p>
      </article>

      <article id="sinai" class="mt-6 rounded-2xl border border-slate-200 dark:border-slate-800 p-6">
        <h2>4) Sinai and the Cross: A New Covenant & a New Exodus</h2>
        <p>The original Exodus culminated at Mount Sinai with the giving of the Law. Jesus’s ministry culminates at Jerusalem with the giving of himself.</p>
        <details open>
          <summary class="font-semibold">Sermon on the Mount: The New-Covenant Law</summary>
          <p>Jesus goes up on a mountain like a new Moses and delivers the law of the new covenant (<span>Matthew 5–7</span>). He does not abolish the old law but deepens it, aiming at the heart.</p>
        </details>
        <details class="mt-2">
          <summary class="font-semibold">Transfiguration: Speaking of His “Exodus”</summary>
          <p>On another mountain, Jesus’s glory is revealed. He speaks with Moses and Elijah about his “departure,” which <span>Luke 9:31</span> literally calls his <em>exodus</em>, to be accomplished at Jerusalem.</p>
        </details>
        <details class="mt-2">
          <summary class="font-semibold">Passover & Red Sea, Fulfilled at the Cross</summary>
          <p>The crucifixion is the decisive act: the ultimate Passover, where the Lamb of God (<span>John 1:29</span>) is given to deliver from death; and the ultimate Red Sea crossing, where Jesus confronts the powers of sin and death—the true Pharaoh—and defeats them, opening a path to freedom for all who follow.</p>
        </details>
      </article>

      <article id="resurrection" class="mt-6 rounded-2xl border border-slate-200 dark:border-slate-800 p-6">
        <h2>Resurrection & New Creation</h2>
        <p>The resurrection is the dawn of the new creation, the arrival in the “Promised Land” of God’s renewed world. Jesus, as true Israel, has completed the journey and now invites all people to join him in this New Exodus.</p>
        <div class="not-prose mt-4 rounded-xl border border-emerald-300/40 dark:border-emerald-700/40 bg-emerald-50/50 dark:bg-emerald-900/20 p-4">
          <h3 class="text-emerald-700 dark:text-emerald-300 font-semibold">Summary: The Journey at a Glance</h3>
          <ul class="list-disc pl-6 text-sm">
            <li><strong>Egypt →</strong> Oppression under Rome; Jesus as true Son called from Egypt (<span>Matthew 2:15</span>).</li>
            <li><strong>Jordan/Sea →</strong> Baptism & commissioning as beloved Son (<span>Matthew 3:17</span>; <span>Exodus 4:22</span>).</li>
            <li><strong>Wilderness →</strong> Temptations overcome; fidelity where Israel failed (<span>Matthew 4:1–11</span>).</li>
            <li><strong>Sinai →</strong> New-covenant law on the mount (<span>Matthew 5–7</span>).</li>
            <li><strong>Cross →</strong> Passover & Sea fulfilled; victory over sin and death (<span>Luke 9:31</span>; <span>John 1:29</span>).</li>
            <li><strong>Resurrection →</strong> Firstfruits of new creation; invitation to join the New Exodus.</li>
          </ul>
        </div>
      </article>

      <div class="mt-8 flex items-center justify-between">
        <a href="#top" class="text-sm underline decoration-dotted">Back to top</a>
        <span class="text-xs text-slate-500 dark:text-slate-400">Single-file app • Works offline once cached (fonts/CDNs optional).</span>
      </div>
    </section>
  </main>

  <footer class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12 text-xs text-slate-500 dark:text-slate-400">
    Built for quick reading, teaching, and discussion. You can edit this file’s content directly.
  </footer>

  <script>
    // Theme toggle
    const toggle = document.getElementById('themeToggle');
    toggle?.addEventListener('click', () => {
      const root = document.documentElement;
      const isDark = root.classList.toggle('dark');
      try { localStorage.setItem('theme', isDark ? 'dark' : 'light'); } catch(_){}
    });

    // Expand/Collapse all <details>
    const expandAllBtn = document.getElementById('expandAll');
    const collapseAllBtn = document.getElementById('collapseAll');
    const detailsAll = () => Array.from(document.querySelectorAll('details'));
    expandAllBtn?.addEventListener('click', () => detailsAll().forEach(d => d.open = true));
    collapseAllBtn?.addEventListener('click', () => detailsAll().forEach(d => d.open = false));

    // Simple scrollspy
    const toc = document.getElementById('toc');
    const links = toc ? Array.from(toc.querySelectorAll('a')) : [];
    const sections = links.map(a => document.querySelector(a.getAttribute('href'))).filter(Boolean);
    const obs = new IntersectionObserver(entries => {
      entries.forEach(e => {
        if (e.isIntersecting) {
          links.forEach(a => a.classList.remove('active-link'));
          const id = '#' + e.target.id;
          const active = links.find(a => a.getAttribute('href') === id);
          active?.classList.add('active-link');
        }
      });
    }, { rootMargin: '-40% 0px -55% 0px', threshold: 0.01 });
    sections.forEach(sec => obs.observe(sec));

    // Client-side search highlighter (simple, resets on empty)
    const searchInput = document.getElementById('search');
    const clearBtn = document.getElementById('clearSearch');
    const content = document.getElementById('content');
    let originalHTML = '';
    function restore() { if (originalHTML) content.innerHTML = originalHTML; }
    function highlight(term) {
      if (!originalHTML) originalHTML = content.innerHTML;
      restore();
      if (!term) return;
      const esc = term.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
      const re = new RegExp(`(${esc})(?![^<]*>)`, 'gi');
      content.innerHTML = content.innerHTML.replace(re, '<mark>$1</mark>');
    }
    searchInput?.addEventListener('input', (e) => highlight(e.target.value.trim()));
    clearBtn?.addEventListener('click', () => { searchInput.value=''; restore(); });
  </script>
</body>
</html>
