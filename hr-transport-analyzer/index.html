<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transportation Network Analyzer</title>
    <style>
        :root {
            --bg-gradient: linear-gradient(135deg,#2c3e50 0%,#34495e 100%);
            --accent-1: #e74c3c;
            --accent-2: #c03b2b;
            --btn-gradient: linear-gradient(45deg,#e74c3c,#c0392b);
            --accent-1-rgb: 231, 76, 60;
            --accent-warning: #ffc107;
            --accent-warning-rgb: 255, 193, 7;
            --text-primary: #ecf0f1;
            --text-secondary: #bdc3c7;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Georgia', serif;
            background: var(--bg-gradient);
            color: var(--text-primary);
            min-height: 100vh;
        }
        .header {
            background: rgba(0,0,0,0.3);
            padding: 2rem;
            text-align: center;
            border-bottom: 3px solid var(--accent-1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-top: 0;
        }
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(45deg, var(--accent-1), var(--accent-2));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            filter: drop-shadow(0 0 15px rgba(var(--accent-1-rgb), 0.3));
        }
        .header p {
            font-size: 1.2rem;
            color: var(--text-secondary);
            font-style: italic;
        }
        .nav-tabs {
            display: flex;
            justify-content: center;
            align-items: center;
            background: rgba(0,0,0,0.2);
            padding: 1rem;
            gap: 1rem;
            flex-wrap: wrap;
        }

```
/* --- FINAL BUTTON RULES START --- */
/* Base style for ALL buttons */
.tab-button, #settings-btn, .sector-button {
    padding: 12px 24px;
    background: var(--ui-background);
    border: none;
    color: var(--text-primary);
    cursor: pointer;
    border-radius: 5px;
    font-size: 1rem;
    transition: all 0.3s ease;
    border: 1px solid rgba(255, 255, 255, 0.2);
}
/* Specific settings for the icon */
#settings-btn {
    font-size: 1.2rem;
    padding: 10px 15px;
}
/* HOVER state for buttons */
.tab-button:hover, .sector-button:hover, #settings-btn:hover {
    background: var(--btn-gradient);
    transform: translateY(-2px);
}
/* ACTIVE state for selected buttons */
.tab-button.active, .sector-button.active {
    background: var(--btn-gradient);
    border-color: var(--accent-2);
    transform: translateY(-2px);
    color: var(--btn-text-active);
}
/* LOGIC-DRIVEN TEXT COLOR FOR HOVER AND ACTIVE STATES */
.btn-light-text:hover, .btn-light-text.active {
     color: var(--text-primary);
}
.btn-dark-text:hover, .btn-dark-text.active {
     color: var(--btn-text-active);
}

/* --- FINAL BUTTON RULES END --- */
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
}

/* Modal Styles */
.modal-overlay {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.7);
    justify-content: center;
    align-items: center;
    animation: fadeIn 0.3s ease;
}
.modal-overlay.show {
    display: flex;
}
.modal-content {
    background: #2c3e50;
    padding: 2rem;
    border-radius: 10px;
    border: 1px solid rgba(255,255,255,0.2);
    box-shadow: 0 8px 32px rgba(0,0,0,0.5);
    text-align: center;
    position: relative;
    width: 90%;
    max-width: 400px;
}
.modal-content h3 {
    color: var(--accent-1);
    margin-bottom: 1.5rem;
    font-size: 1.5rem;
}

.modal-content label {
    font-size: 1.1rem;
    margin-right: 10px;
}
#theme-select {
    background-color: var(--ui-background);
    color: var(--text-primary);
    border: 1px solid var(--accent-2);
    border-radius: 5px;
    padding: 8px;
    font-size: 1rem;
}
.close-btn {
    position: absolute;
    top: 10px;
    right: 15px;
    color: #aaa;
    font-size: 28px;
    font-weight: bold;
    background: none;
    border: none;
    cursor: pointer;
}
.close-btn:hover,
.close-btn:focus {
    color: var(--text-primary);
    text-decoration: none;
}
.tab-content {
    display: none;
    animation: fadeIn 0.5s ease-in;
}
.tab-content.active {
    display: block;
}
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}
.section-card {
    background: rgba(255,255,255,0.05);
    backdrop-filter: blur(10px);
    border-radius: 10px;
    padding: 2rem;
    margin-bottom: 2rem;
    border: 1px solid rgba(255,255,255,0.2);
    box-shadow: 0 8px 32px rgba(0,0,0,0.3);
}
.section-title {
    color: var(--accent-1);
    font-size: 1.8rem;
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid var(--accent-1);
}
.subsection {
    margin: 1.5rem 0;
}
.subsection h3 {
    color: var(--accent-1);
    font-size: 1.3rem;
    margin-bottom: 0.8rem;
}
.subsection h4 {
    color: var(--accent-2);
    font-size: 1.1rem;
    margin: 1rem 0 0.5rem 0;
}
.sector-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-top: 2rem;
}
.sector-card {
    background: rgba(255,255,255,0.05);
    border-radius: 8px;
    padding: 1.5rem;
    border-left: 4px solid var(--accent-1);
    transition: transform 0.3s ease;
    border: 1px solid rgba(255,255,255,0.1);
}
.sector-card:hover {
    transform: translateY(-5px);
    background: rgba(255,255,255,0.1);
}
.sector-name {
    color: var(--accent-1);
    font-size: 1.4rem;
    font-weight: bold;
    margin-bottom: 0.5rem;
}
.casualties-highlight {
    background: rgba(var(--accent-warning-rgb), 0.15);
    padding: 1rem;
    border-radius: 5px;
    border-left: 4px solid var(--accent-warning);
    margin: 1rem 0;
}
.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
    margin: 1.5rem 0;
}
   .stat-card {
    background: var(--ui-background-accent);
    padding: 1.5rem;
    border-radius: 8px;
    text-align: center;
    border: 1px solid rgba(255,255,255,0.2);
}
.stat-number {
    font-size: 2rem;
    font-weight: bold;
    color: var(--accent-1);
    display: block;
}
.stat-label {
    color: var(--text-secondary);
    margin-top: 0.5rem;
}
/* --- TIMELINE STYLES START --- */
.timeline {
    position: relative;
    padding-left: 2rem;
    margin-top: 2rem;
}
.timeline::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 2px;
    background: var(--accent-1);
}
.timeline-item {
    position: relative;
    margin-bottom: 2rem;
    padding-left: 2rem;
}
.timeline-item::before {
    content: '';
    position: absolute;
    left: -2.05rem;
    top: 5px;
    width: 12px;
    height: 12px;
    background: var(--accent-1);
    border-radius: 50%;
    border: 2px solid var(--ui-background);
}
.timeline-time {
    color: var(--accent-1);
    font-weight: bold;
    font-size: 1.1rem;
    margin-bottom: 0.5rem;
}
/* --- TIMELINE STYLES END --- */
.search-box {
    width: 100%;
    padding: 12px;
    font-size: 1rem;
    border: none;
    border-radius: 5px;
    background: rgba(255,255,255,0.1);
    color: var(--text-primary);
    margin-bottom: 2rem;
}
.search-box::placeholder {
    color: var(--text-secondary);
}
.highlight {
    background: rgba(var(--accent-1-rgb), 0.3);
    padding: 2px 4px;
    border-radius: 3px;
}
.interactive-map {
    background: var(--container-background-subtle);
    padding: 2rem;
    border-radius: 10px;
    text-align: center;
    margin-bottom: 2rem;
    border: 1px solid rgba(255, 255, 255, 0.2);
}
.sector-buttons {
    display: flex;
    justify-content: center;
    gap: 1rem;
    flex-wrap: wrap;
    margin-top: 1rem;
}
.sector-detail {
    display: none;
    margin-top: 2rem;
    padding: 1.5rem;
    background: rgba(255,255,255,0.05);
    border-radius: 8px;
}
.sector-detail.show {
    display: block;
}

@media (max-width: 768px) {
    .header h1 {
        font-size: 2rem;
    }
    .nav-tabs {
        flex-direction: column;
        align-items: center;
    }
    .container {
        padding: 1rem;
    }
    .sector-grid {
        grid-template-columns: 1fr;
    }
    .stats-grid {
        grid-template-columns: 1fr;
    }
}

</style>
<script>
// Self-executing function to manage all theme logic.
(function() {
    const DEFAULT_THEME_NAME = 'cyber-blue';

```
let THEMES = {
    'cyber-blue': {
        '--bg-gradient': 'linear-gradient(135deg,#0a0a23 0%,#1a1a3a 50%,#2e2e5e 100%)',
        '--accent-1': '#a8b8d0', '--accent-1-rgb': '168, 184, 208',
        '--accent-2': '#8899b3',
        '--btn-gradient': 'linear-gradient(45deg,#1a1a3a,#2e2e5e)',
        '--accent-warning': '#e8b339',
        '--accent-warning-rgb': '232, 179, 57',
        '--ui-background': '#34495e',
        '--ui-background-accent': 'rgba(52, 73, 94, 0.8)',
        '--container-background-subtle': 'rgba(0, 0, 0, 0.3)',
        '--btn-text-active': '#ecf0f1'
    },
    'teal-matrix': {
        '--bg-gradient': 'linear-gradient(135deg,#0a231c 0%,#1a3a31 50%,#2e5e50 100%)',
        '--accent-1': '#ace0d5', '--accent-1-rgb': '172, 224, 213',
        '--accent-2': '#92b3a9',
        '--btn-gradient': 'linear-gradient(45deg,#1a3a31,#2e5e50)',
        '--accent-warning': '#e8b339',
        '--accent-warning-rgb': '232, 179, 57',
        '--ui-background': '#345e55',
        '--ui-background-accent': 'rgba(52, 94, 85, 0.8)',
        '--container-background-subtle': 'rgba(0, 0, 0, 0.3)',
        '--btn-text-active': '#ecf0f1'
    },
    'red-alert': {
        '--bg-gradient': 'linear-gradient(135deg,#0a0a23 0%,#1a1a3a 50%,#2e2e5e 100%)',
        '--ui-background': '#34495e',
        '--ui-background-accent': 'rgba(52, 73, 94, 0.8)',
        '--container-background-subtle': 'rgba(0, 0, 0, 0.3)',
        '--accent-1': '#e74c3c',
        '--accent-2': '#c03b2b',
        '--btn-gradient': 'linear-gradient(45deg,#e74c3c,#c0392b)',
        '--accent-1-rgb': '231, 76, 60',
        '--accent-warning': '#e8b339',
        '--accent-warning-rgb': '232, 179, 57',
        '--btn-text-active': '#ffffff'
    },
    'scorched-gold': {
        '--bg-gradient': 'linear-gradient(135deg,#0a231f 0%,#193a33 50%,#2e5e54 100%)',
        '--ui-background': '#345e56',
        '--ui-background-accent': 'rgba(52, 94, 86, 0.8)',
        '--container-background-subtle': 'rgba(0, 0, 0, 0.3)',
        '--accent-1': '#f0c475',
        '--accent-2': '#d4a24c',
        '--btn-gradient': 'linear-gradient(45deg,#f0c475,#d4a24c)',
        '--accent-1-rgb': '240, 196, 117',
        '--btn-text-active': '#2a1d15',
        '--accent-warning': '#e8b339',
        '--accent-warning-rgb': '232, 179, 57'
    }
};
function finalizeThemes(themes) {
    for (const themeName in themes) {
        const theme = themes[themeName];
        const gradient = theme['--btn-gradient'];
        if (gradient.includes('#d') || gradient.includes('#e') || gradient.includes('#f')) {
            theme.hover_style = 'btn-dark-text'; 
        } else {
            theme.hover_style = 'btn-light-text';
        }
    }
    return themes;
}
THEMES = finalizeThemes(THEMES);

function applyTheme(name) {
    const theme = THEMES[name];
    if (theme) {
        const root = document.documentElement;
        for (const [key, value] of Object.entries(theme)) {
            if(key !== 'hover_style') {
                root.style.setProperty(key, value);
            }
        }
        const buttons = document.querySelectorAll('.tab-button, .sector-button, #settings-btn');
        buttons.forEach(button => {
            button.classList.remove('btn-light-text', 'btn-dark-text');
            if (theme.hover_style) {
                button.classList.add(theme.hover_style);
            }
        });
    }
}

window.setTheme = function(name) {
    applyTheme(name);
    localStorage.setItem('city-evolution-theme', name);
}

const availableThemeNames = Object.keys(THEMES);
const savedTheme = localStorage.getItem('city-evolution-theme');
let themeToLoad = DEFAULT_THEME_NAME;
if (savedTheme && availableThemeNames.includes(savedTheme)) {
    themeToLoad = savedTheme;
}

applyTheme(themeToLoad);

document.addEventListener('DOMContentLoaded', () => {
    const themeSelect = document.getElementById('theme-select');
    if (themeSelect) {
        themeSelect.innerHTML = '';
        availableThemeNames.forEach(name => {
            const option = document.createElement('option');
            option.value = name;
            option.textContent = name.replace(/-/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
            themeSelect.appendChild(option);
        });
        themeSelect.value = themeToLoad;
    }
});

})();
</script>

</head>
<body>
    <div id="settings-modal" class="modal-overlay">
        <div class="modal-content">
            <button id="close-modal-btn" class="close-btn">&times;</button>
            <h3>Display Settings</h3>
            <label for="theme-select">Theme:</label>
            <select id="theme-select" onchange="setTheme(this.value)"></select>
        </div>
    </div>
    <div class="header">
        <h1>Transportation Network Analyzer</h1>
        <p>Traffic Flows & Transit Infrastructure • From Ancient Roads to Smart Mobility</p>
    </div>
    <div class="nav-tabs">
        <button class="tab-button active" data-tab="overview">Overview</button>
        <button class="tab-button" data-tab="ancient">Historical Networks</button>
        <button class="tab-button" data-tab="development">Traffic Analysis</button>
        <button class="tab-button" data-tab="transportation">Transit Systems</button>
        <button class="tab-button" data-tab="economic">Infrastructure Planning</button>
        <button class="tab-button" data-tab="search">Search Database</button>
        <button id="settings-btn" title="Settings">⚙️</button>
    </div>
    <div class="container">
        <div id="overview" class="tab-content active">
             <div class="section-card">
                <h2 class="section-title">Transportation Networks: The Arteries of Civilization</h2>
                <p style="font-size: 1.2rem; line-height: 1.8; margin-bottom: 2rem;">
                    Transportation networks are the lifeblood of modern society, connecting people, goods, and ideas across vast distances. From ancient trade routes to high-speed rail corridors, these systems have shaped urban development, economic growth, and social interaction. Today's complex multimodal networks face unprecedented challenges as cities grow and environmental concerns demand sustainable mobility solutions.
                </p>
                <div class="stats-grid">
                    <div class="stat-card">
                        <span class="stat-number">312 BCE</span>
                        <div class="stat-label">First Roman Roads</div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">1863</span>
                        <div class="stat-label">First Metro System (London)</div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">2.3 Billion</span>
                        <div class="stat-label">Daily Public Transit Trips Globally</div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">40%</span>
                        <div class="stat-label">Urban Traffic Congestion Cost</div>
                    </div>
                </div>
                <div class="interactive-map">
                    <h3 style="color: var(--accent-1); margin-bottom: 1rem;">Transportation Network Components</h3>
                    <p>Click on each component to explore how different transport modes shape mobility patterns:</p>
                    <div class="sector-buttons">
                        <button class="sector-button" data-sector="geographic">Road Networks</button>
                        <button class="sector-button" data-sector="trade">Rail Systems</button>
                        <button class="sector-button" data-sector="political">Water Transport</button>
                        <button class="sector-button" data-sector="industrial">Air Connectivity</button>
                    </div>
                    <div id="geographic-detail" class="sector-detail">
                        <h4 style="color: var(--accent-1);">Road Networks</h4>
                        <p><strong>Components:</strong> Highways, arterials, collectors, local streets, bike lanes, pedestrian paths</p>
                        <p><strong>Impact:</strong> Road networks enable flexible point-to-point travel but can create congestion and urban sprawl. Modern road design integrates smart traffic signals, variable message signs, and dedicated transit lanes to optimize flow.</p>
                    </div>
                    <div id="trade-detail" class="sector-detail">
                        <h4 style="color: var(--accent-1);">Rail Systems</h4>
                        <p><strong>Types:</strong> Heavy rail, light rail, streetcars, bus rapid transit, high-speed rail, freight rail</p>
                        <p><strong>Advantages:</strong> Rail systems move large numbers of people efficiently with lower environmental impact. They create development corridors and reduce car dependency in dense urban areas.</p>
                    </div>
                    <div id="political-detail" class="sector-detail">
                        <h4 style="color: var(--accent-1);">Water Transport</h4>
                        <p><strong>Modes:</strong> Ferries, water taxis, cargo barges, cruise ships, recreational watercraft</p>
                        <p><strong>Role:</strong> Water transport connects islands and coastal areas, provides scenic routes, and moves heavy freight efficiently. Many cities are rediscovering waterways for passenger service.</p>
                    </div>
                    <div id="industrial-detail" class="sector-detail">
                        <h4 style="color: var(--accent-1);">Air Connectivity</h4>
                        <p><strong>Infrastructure:</strong> Airports, heliports, air traffic control, cargo facilities, ground transportation links</p>
                        <p><strong>Function:</strong> Aviation enables long-distance travel and time-sensitive cargo delivery. Airport location and ground connections significantly impact regional development patterns.</p>
                    </div>
                </div>
            </div>
        </div>
        <div id="ancient" class="tab-content">
            <div class="section-card">
                <h2 class="section-title">Evolution of Transportation Networks</h2>
                <div class="sector-grid">
                    <div class="sector-card">
                        <h3 class="sector-name">Roman Road System</h3>
                        <p>The Roman Empire built over 400,000 km of roads, creating Europe's first integrated transportation network. Roman roads featured layered construction, milestones, and standardized widths. The phrase "all roads lead to Rome" reflected the radial network design that connected the empire's furthest provinces to its capital.</p>
                    </div>
                    <div class="sector-card">
                        <h3 class="sector-name">Silk Road Networks</h3>
                        <p>Ancient trade routes spanning 6,400 km connected East and West from 130 BCE to 1453 CE. Caravanserais provided rest stops every 20-30 km, while multiple route options ensured resilience. The Silk Road demonstrated early principles of network redundancy and intermodal transport combining land and sea routes.</p>
                    </div>
                    <div class="sector-card">
                        <h3 class="sector-name">Canal Systems</h3>
                        <p>Artificial waterways revolutionized freight transport from ancient China to medieval Europe. The Grand Canal of China, begun in 486 BCE, remains the world's longest at 1,776 km. Canals could move heavy goods at 1/10th the cost of road transport, driving industrial development in connected regions.</p>
                    </div>
                </div>
                <div class="subsection">
                    <h3 class="section-title">Timeline of Transportation Innovation</h3>
                    <div class="timeline">
                        <div class="timeline-item">
                            <div class="timeline-time">10,000 BCE</div>
                            <h4>Ancient Paths</h4>
                            <p>Hunter-gatherer trails become established walking routes. Animal migration paths influence early human movement patterns, creating the first transportation corridors between water sources and seasonal camps.</p>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-time">3500 BCE</div>
                            <h4>Wheel Invention</h4>
                            <p>The wheel revolutionizes land transport in Mesopotamia. Combined with domesticated animals, wheeled vehicles enable bulk cargo transport and reduce travel time by 75%, spurring trade and city growth.</p>
                        </div>
                         <div class="timeline-item">
                            <div class="timeline-time">300 BCE</div>
                            <h4>Roman Road System</h4>
                            <p>Systematic road construction connects the Roman Empire with standardized engineering. Stone-paved roads with drainage systems last centuries, establishing transportation corridors still used today.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="development" class="tab-content">
            <div class="section-card">
                <h2 class="section-title">Traffic Flow Patterns & Analysis</h2>
                <div class="sector-grid">
                    <div class="sector-card">
                        <div class="sector-name">Peak Hour Dynamics</div>
                        <p>Rush hour traffic exhibits predictable patterns with morning peaks toward city centers and evening dispersal. Peak-to-base ratios often reach 3:1, requiring infrastructure designed for maximum demand. Dynamic pricing and flexible work schedules help spread demand across time periods.</p>
                    </div>
                    <div class="sector-card">
                        <div class="sector-name">Congestion Patterns</div>
                        <p>Traffic congestion follows power law distributions, where small disruptions can cascade into major delays. The fundamental diagram of traffic flow shows that maximum throughput occurs at 45-55% of theoretical capacity. Understanding these patterns enables better traffic management strategies.</p>
                    </div>
                    <div class="sector-card">
                        <div class="sector-name">Traffic Modeling</div>
                        <p>Mathematical models predict traffic behavior using queuing theory, cellular automata, and agent-based simulations. Macroscopic models treat traffic as fluid flow, while microscopic models simulate individual vehicle interactions. These tools optimize signal timing and route planning.</p>
                    </div>
                    <div class="sector-card">
                        <div class="sector-name">Intersection Efficiency</div>
                        <p>Intersections are critical bottlenecks where conflicts between movements create delays. Roundabouts can increase capacity by 30-50% over signalized intersections. Adaptive signal control uses real-time data to optimize timing, reducing stops by up to 40%.</p>
                    </div>
                    <div class="sector-card">
                        <div class="sector-name">Smart Traffic Management</div>
                        <p>Intelligent Transportation Systems (ITS) use sensors, cameras, and AI to optimize traffic flow in real-time. Connected and autonomous vehicles promise to increase road capacity by 40% through coordinated movement and reduced following distances.</p>
                    </div>
                </div>
            </div>
        </div>
        <div id="transportation" class="tab-content">
            <div class="section-card">
                <h2 class="section-title">Public Transit Infrastructure</h2>
                <div class="sector-grid">
                    <div class="sector-card">
                        <h3 class="sector-name">Bus Rapid Transit</h3>
                        <p>BRT systems provide subway-like service using dedicated bus lanes, platform boarding, and signal priority. Curitiba pioneered BRT in 1974, achieving 85% of light rail capacity at 1/4 the cost. Over 170 cities now operate BRT systems serving 34 million daily passengers.</p>
                    </div>
                     <div class="sector-card">
                        <h3 class="sector-name">Metro/Subway Systems</h3>
                         <p>Underground rail networks move large volumes efficiently in dense cities. The London Underground, opened in 1863, established the subway model copied worldwide. Modern systems like Copenhagen's use driverless trains and platform screen doors for safety and efficiency.</p>
                    </div>
                     <div class="sector-card">
                        <h3 class="sector-name">Light Rail Networks</h3>
                         <p>Light rail combines streetcar accessibility with rapid transit capacity, operating in mixed traffic or dedicated rights-of-way. Portland's MAX system sparked North American light rail revival in 1986. Modern low-floor vehicles provide level boarding and accommodate wheelchairs.</p>
                    </div>
                     <div class="sector-card">
                        <h3 class="sector-name">Commuter Rail</h3>
                         <p>Regional rail systems connect suburbs to city centers over distances of 50-100 km. Electric multiple units provide frequent service with high acceleration. Transit-oriented development around stations creates walkable communities and reduces car dependency.</p>
                    </div>
                     <div class="sector-card">
                        <h3 class="sector-name">Integrated Mobility</h3>
                         <p>Seamless connections between transport modes through unified payment, scheduling, and wayfinding systems. Cities like Singapore and Zurich demonstrate how integration multiplies the effectiveness of individual transit modes through network effects.</p>
                    </div>
                </div>
                <div class="subsection">
                    <h3>Transit System Performance</h3>
                    <p style="font-size: 1.1rem; line-height: 1.7;">
                        Successful transit systems require high frequency, reliability, and comprehensive coverage. The best systems achieve 90%+ on-time performance with headways under 10 minutes during peak periods. Ridership correlates strongly with service frequency and urban density. Cities with over 20% transit mode share typically have extensive rail networks complemented by bus systems. Integration with walking and cycling infrastructure creates complete mobility ecosystems that reduce car dependency and improve air quality.
                    </p>
                </div>
            </div>
        </div>
        <div id="economic" class="tab-content">
            <div class="section-card">
                <h2 class="section-title">Modern Infrastructure Development</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <span class="stat-number">$2.8T</span>
                        <div class="stat-label">Global Transit Investment Needed</div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">56%</span>
                        <div class="stat-label">Cities with Transit Systems</div>
                    </div>
                     <div class="stat-card">
                        <span class="stat-number">180M</span>
                        <div class="stat-label">Daily Metro Passengers Worldwide</div>
                    </div>
                </div>
                <div class="sector-grid">
                    <div class="sector-card">
                        <h3 class="sector-name">Transit-Oriented Development</h3>
                        <p>Mixed-use, walkable development concentrated around transit stations to maximize ridership and minimize sprawl. TOD typically features density gradients from high-rise near stations to low-rise at periphery. Successful examples like Arlington County show how TOD can transform suburban corridors into urban villages.</p>
                    </div>
                     <div class="sector-card">
                        <h3 class="sector-name">Multimodal Hubs</h3>
                         <p>Transportation centers that integrate multiple modes including rail, bus, bike-share, and ride-sharing. Grand Central Terminal in New York and Zurich Hauptbahnhof exemplify how major hubs become destinations themselves, driving economic activity and urban regeneration.</p>
                    </div>
                     <div class="sector-card">
                        <h3 class="sector-name">Green Corridors</h3>
                         <p>Transportation infrastructure designed to minimize environmental impact through electric vehicles, renewable energy, and natural habitat preservation. The Netherlands' railway system runs entirely on wind power, while green highways incorporate wildlife crossings and stormwater management.</p>
                    </div>
                     <div class="sector-card">
                        <h3 class="sector-name">Smart Infrastructure</h3>
                         <p>Connected transportation systems using IoT sensors, 5G networks, and AI analytics to optimize operations in real-time. Smart traffic lights reduce delays by 25%, while predictive maintenance prevents costly failures and service disruptions.</p>
                    </div>
                     <div class="sector-card">
                        <h3 class="sector-name">Future Mobility</h3>
                         <p>Emerging technologies including autonomous vehicles, hyperloop, urban air mobility, and mobility-as-a-service platforms. These innovations promise to transform transportation from ownership to access models, potentially reducing vehicle numbers by 80% in urban areas.</p>
                    </div>
                </div>
            </div>
        </div>
        <div id="search" class="tab-content">
            <div class="section-card">
                <h2 class="section-title">Search the Transportation Database</h2>
                <input type="text" id="searchInput" class="search-box" placeholder="Search for transport modes, infrastructure, traffic concepts, or mobility systems...">
            <div id="searchResults">
                <p style="text-align: center; color: var(--text-secondary); font-style: italic; margin: 2rem 0;">
                    Enter a search term above to explore the transportation knowledge base.<br>
                    Try searching for: "BRT", "Congestion", "Roman Roads", "Metro", "Highway", etc.
                </p>
            </div>
        </div>
    </div>
</div>
<script>
    // Knowledge base for searching
    const knowledgeBase = {
        "BRT": "Bus Rapid Transit systems provide high-quality bus service with dedicated lanes, platform boarding, and signal priority. Curitiba pioneered BRT in 1974, achieving subway-level capacity at much lower cost. Over 170 cities worldwide now operate BRT systems serving 34 million daily passengers.",
        "Metro": "Underground rail systems that provide high-capacity transit in dense urban areas. The London Underground, opened in 1863, was the world's first metro system. Modern metros like Copenhagen's feature driverless operation and platform screen doors for safety and efficiency.",
        "Congestion": "Traffic congestion occurs when demand exceeds road capacity, following predictable patterns during peak hours. Congestion costs the US economy $166 billion annually in lost productivity. Dynamic pricing, transit alternatives, and smart traffic management help reduce congestion impacts.",
        "Roman Roads": "Ancient Rome built over 400,000 km of roads using advanced engineering techniques including layered construction and proper drainage. Roman roads lasted centuries and established transportation corridors still used today. The radial network design connected all provinces to Rome efficiently.",
        "Highway": "Limited-access roads designed for high-speed long-distance travel between cities and regions. The Interstate Highway System, begun in 1956, transformed American transportation and urban development. Modern highways incorporate smart technology for traffic management and safety.",
        "Streetcar": "Electric rail vehicles operating in city streets, popular from 1880s-1940s before automobile dominance. Modern streetcars are experiencing revival in cities seeking alternatives to buses and subways. Portland's streetcar system demonstrates how modern light rail can spur urban development.",
        "Traffic Flow": "The movement of vehicles through transportation networks, studied using mathematical models and empirical observation. Fundamental traffic flow principles show maximum throughput occurs at 45-55% of theoretical capacity. Understanding flow patterns enables better infrastructure design.",
        "Transit Hub": "Transportation centers where multiple transit modes intersect, enabling seamless transfers between services. Successful hubs like Grand Central Terminal become destinations themselves, driving economic development. Good hub design minimizes transfer times and provides clear wayfinding.",
        "Bike Lanes": "Dedicated cycling infrastructure that provides safe space for bicycle transportation. Protected bike lanes increase cycling rates by 75% compared to shared roadways. Cities like Copenhagen achieve 40% cycling mode share through comprehensive networks of high-quality bike infrastructure.",
        "Rail Network": "Interconnected railway systems providing passenger and freight service across regions and continents. Europe's rail network enables seamless international travel, while freight railways move 40% of US long-distance cargo. High-speed rail systems achieve speeds over 300 km/h.",
        "Traffic Signals": "Electronic devices controlling vehicle and pedestrian movements at intersections. Adaptive signal control systems use real-time data to optimize timing, reducing delays by up to 40%. Coordinated signals create 'green waves' enabling smooth traffic progression.",
        "Public Transit": "Shared passenger transportation systems including buses, trains, and ferries that serve the general public. Cities with high-quality transit achieve 20-40% mode share, reducing car dependency. Transit investment creates $4-5 of economic benefit for every dollar spent.",
        "Urban Sprawl": "Low-density development extending far from city centers, typically automobile-dependent. Sprawl consumes 2 million acres annually in the US and increases infrastructure costs. Smart growth policies encourage compact development to counter sprawl's negative effects.",
        "Autonomous Vehicles": "Self-driving cars using sensors, AI, and connectivity to navigate without human input. Autonomous vehicles could increase road capacity by 40% through coordinated movement and reduced following distances. Full deployment may reduce urban parking needs by 90%.",
        "Freight Transport": "Movement of goods by truck, rail, ship, and air to support economic activity. Freight accounts for 40% of transportation energy use and growing e-commerce increases delivery demand. Last-mile delivery innovations include drones and cargo bikes.",
        "Mobility as a Service": "Integrated transportation systems combining multiple modes through unified apps, payment, and planning. MaaS platforms help users seamlessly access public transit, ride-sharing, bike-sharing, and other services. Helsinki's Whim app pioneers comprehensive MaaS integration.",
        "Transportation Planning": "Process of developing transportation systems to serve community needs while considering environmental and economic impacts. Modern planning emphasizes sustainability, equity, and multimodal options. Public participation ensures plans reflect community values and priorities.",
        "Intercity Rail": "Passenger rail service connecting cities across regions and countries. High-speed rail systems like Japan's Shinkansen and France's TGV demonstrate rail's competitiveness with aviation for medium distances. Investment in intercity rail reduces highway congestion and emissions.",
        "Active Transportation": "Human-powered mobility including walking, cycling, and micro-mobility devices. Active transportation provides health benefits while reducing emissions and congestion. Complete streets design accommodates all users regardless of age, ability, or chosen mode.",
        "Smart Cities": "Urban areas using digital technology to improve transportation systems, reduce energy consumption, and enhance quality of life. Barcelona's smart traffic system reduces travel time by 21%. Singapore uses dynamic road pricing and autonomous vehicles in testing.",
        "Transportation Equity": "Fair access to transportation options regardless of income, race, or location. Low-income households spend 25% of income on transportation compared to 13% for higher-income families. Transit investment in underserved areas improves economic opportunity and social mobility.",
        "Intermodal Transport": "Transportation using multiple modes in a single journey, such as driving to a train station then taking rail to the destination. Seamless intermodal connections multiply the effectiveness of individual transport modes through network effects.",
        "Vehicle Miles Traveled": "Total miles driven by all vehicles, a key metric for transportation planning and environmental impact assessment. US VMT peaked in 2007 and has grown slowly since, partly due to urbanization and changing travel preferences among younger generations.",
        "Complete Streets": "Transportation infrastructure designed for all users including pedestrians, cyclists, transit riders, and motorists of all ages and abilities. Complete streets policies have been adopted by over 1,400 jurisdictions to create safer, more accessible transportation networks.",
        "Carbon Emissions": "Transportation accounts for 24% of global CO2 emissions, with road transport responsible for 75% of transport emissions. Electric vehicles, public transit, active transportation, and reduced travel demand are key strategies for decarbonizing transportation systems."
    };
    // Initialize the application
    document.addEventListener('DOMContentLoaded', function() {
        initializeTabs();
        initializeSectorButtons();
        initializeSearch();
        initializeModal();
    });
    function initializeModal() {
        const modal = document.getElementById('settings-modal');
        const openBtn = document.getElementById('settings-btn');
        const closeBtn = document.getElementById('close-modal-btn');
        if (modal && openBtn && closeBtn) {
            openBtn.addEventListener('click', () => {
                modal.classList.add('show');
            });
            closeBtn.addEventListener('click', () => {
                modal.classList.remove('show');
            });
            modal.addEventListener('click', (event) => {
                if (event.target === modal) {
                    modal.classList.remove('show');
                }
            });
        }
    }
    function initializeTabs() {
        const tabButtons = document.querySelectorAll('.tab-button');
        tabButtons.forEach(button => {
            button.addEventListener('click', function() {
                const tabName = this.getAttribute('data-tab');
                showTab(tabName);
            });
        });
    }
    function showTab(tabName) {
        try {
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => {
                if (content && content.classList) {
                    content.classList.remove('active');
                }
            });
            const tabButtons = document.querySelectorAll('.tab-button');
            tabButtons.forEach(button => {
                if (button && button.classList) {
                    button.classList.remove('active');
                }
            });
            const targetTab = document.getElementById(tabName);
            if (targetTab && targetTab.classList) {
                targetTab.classList.add('active');
            }
            const activeButton = document.querySelector(`[data-tab="${tabName}"]`);
            if (activeButton && activeButton.classList) {
                activeButton.classList.add('active');
            }
        } catch (error) {
            console.error('Error in showTab:', error);
        }
    }
    function initializeSectorButtons() {
        const sectorButtons = document.querySelectorAll('.sector-button');
        sectorButtons.forEach(button => {
            button.addEventListener('click', function() {
                const sectorName = this.getAttribute('data-sector');
                showSectorDetail(sectorName, this);
            });
        });
    }
    function showSectorDetail(sector, clickedButton) {
        try {
            const details = document.querySelectorAll('.sector-detail');
            details.forEach(detail => detail.classList.remove('show'));
            const buttons = document.querySelectorAll('.sector-button');
            buttons.forEach(button => button.classList.remove('active'));
            const targetDetail = document.getElementById(sector + '-detail');
            if (targetDetail) {
                targetDetail.classList.add('show');
                clickedButton.classList.add('active');
            }
        } catch (error) {
            console.error('Error in showSectorDetail:', error);
        }
    }
    function initializeSearch() {
        const searchInput = document.getElementById('searchInput');
        if (searchInput) {
            searchInput.addEventListener('keyup', searchContent);
        }
    }
    function searchContent() {
        try {
            const searchInput = document.getElementById('searchInput');
            const resultsDiv = document.getElementById('searchResults');

```
        if (!searchInput || !resultsDiv) return;
        
        const searchTerm = searchInput.value.toLowerCase();
        if (searchTerm.length < 2) {
            resultsDiv.innerHTML = '<p style="text-align: center; color: var(--text-secondary); font-style: italic; margin: 2rem 0;">Enter a search term above to explore the transportation knowledge base.<br>Try searching for: "BRT", "Congestion", "Roman Roads", "Metro", "Highway", etc.</p>';
            return;
        }
        let results = [];
        
        for (const key in knowledgeBase) {
            if (knowledgeBase.hasOwnProperty(key)) {
                const value = knowledgeBase[key];
                if (key.toLowerCase().includes(searchTerm) || value.toLowerCase().includes(searchTerm)) {
                    results.push({
                        title: key,
                        content: value,
                        relevance: key.toLowerCase().startsWith(searchTerm) ? 2 : 1
                    });
                }
            }
        }
        results.sort((a, b) => b.relevance - a.relevance);
        if (results.length === 0) {
            resultsDiv.innerHTML = `<div class="section-card"><h3 style="color: var(--accent-1);">No results found for "${searchInput.value}"</h3><p>Try searching for transport modes, infrastructure types, traffic concepts, or mobility systems.</p></div>`;
            return;
        }
        let resultHTML = `<h3 style="color: var(--accent-1); margin-bottom: 1.5rem;">Search Results for "${searchInput.value}"</h3>`;
        
        for (let i = 0; i < results.length; i++) {
            const result = results[i];
            const highlightedContent = result.content.replace(new RegExp(searchTerm, 'gi'), '<span class="highlight">$&</span>');
            
            resultHTML += `<div style="background: rgba(255,255,255,0.05); padding: 1.5rem; border-radius: 8px; margin-bottom: 1rem; border-left: 4px solid var(--accent-1);"><h4 style="color: var(--accent-1); margin-bottom: 0.8rem;">${result.title}</h4><p style="line-height: 1.6;">${highlightedContent}</p></div>`;
        }
        resultsDiv.innerHTML = resultHTML;
    } catch (error) {
        console.error('Error in searchContent:', error);
    }
}

</script>

</body>
</html>
