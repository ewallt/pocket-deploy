<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Adaptive Reader</title>

  <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
  <script>tailwind.config = { darkMode: 'class' }</script>

  <script src="https://www.blueletterbible.org/scripts/blbToolTip/BLB_ScriptTagger-min.js"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">

  <style>
    /* Typography */
    .font-newspaper{font-family:'Lora',serif}
    .font-dark-theme{font-family:'Lora',serif}
    body{transition:background-color .3s,color .3s}
    .prose h1{min-height:7.5rem}

    /* Light */
    .newspaper-theme{background:#fdfdfd;color:#1a1a1a}
    .newspaper-theme .nav-button{background:#f8f9fa;border:1px solid #dee2e6;color:#212529}
    .newspaper-theme .nav-button:hover{background:#e9ecef}
    .newspaper-theme .nav-button.active{background:#1a1a1a;color:#fdfdfd}

    /* Dark */
    .dark-theme{background:#2d2d30;color:#fff}
    .dark-theme .nav-button{background:#3c3c3c;border:1px solid #4a4a4a;color:#ccc}
    .dark-theme .nav-button:hover{background:#4a4a4a}
    .dark-theme .nav-button.active{background:#fff;color:#2d2d30}

    /* Shared */
    .nav-container{margin-bottom:2rem}
    .nav-button{padding:.5rem 1rem;margin:.5rem .5rem .5rem 0;border-radius:.375rem;transition:all .2s;cursor:pointer}
    #library-switcher,#topic-switcher{padding:.5rem;border-radius:.375rem;margin-bottom:1rem;width:100%;border:1px solid #ccc}
    .nav-buttons-wrapper{display:flex;flex-wrap:wrap;align-items:center;width:100%}
    .flex-break{flex-basis:100%;height:0}
  </style>
</head>
<body class="font-newspaper newspaper-theme">  
  <script id="embedded-content" type="application/json">
{
  "the-cruciform-pastor": {
    "title": "The Cruciform Pastor",
    "display_order": 1,
    "categories": {
      "introduction": {
        "display_name": "Introduction",
        "display_order": 1,
        "introduction": "Pastoral ministry finds its ultimate shape and substance in the cross of Jesus Christ. To be 'cruciform' (cross-shaped) is not merely to affirm a doctrine, but to embrace a pattern for life and ministry characterized by self-giving love, enemy-forgiveness, and power found in weakness. It stands in stark contrast to models of leadership built on worldly power, success, or celebrity.",
        "paragraphs": [
          {
            "heading": "The Pattern of the Cross",
            "content": "The entire life of Jesus, culminating in His death and resurrection, provides the blueprint for Christian ministry. The pastor is called to embody this pattern: pouring oneself out for others, seeking the good of the flock above personal gain, and leading from a posture of humility. This is the 'mind of Christ' described in Philippians 2:5-8, which calls believers to have the same attitude of self-emptying (kenotic) love that Christ demonstrated."
          },
          {
            "heading": "Power in Weakness",
            "content": "The Apostle Paul, particularly in 2 Corinthians, articulates a theology of ministry that redefines power. Worldly wisdom seeks strength, influence, and impressive results. The 'word of the cross,' however, is foolishness to the world (1 Cor 1:18). Pastoral strength is not found in rhetorical skill or administrative prowess, but is made perfect in weakness, as the pastor learns to depend wholly on God's grace. True ministry thrives not when the pastor is strong, but when Christ's power rests upon them in their admitted frailty (2 Cor 12:9)."
          }
        ]
      },
      "theological-foundations": {
        "display_name": "Theological Foundations",
        "display_order": 2,
        "introduction": "A cruciform approach to pastoral ministry is deeply rooted in the Christological and soteriological truths of Scripture. It flows from who Jesus is and what He accomplished on the cross.",
        "paragraphs": [
          {
            "heading": "Kenotic Christology (Philippians 2)",
            "content": "Philippians 2:5-11 is the locus classicus for a cruciform understanding of leadership. Christ, though divine, did not cling to His equality with God but 'emptied himself' by taking the form of a servant. This self-renunciation, motivated by love, is the model for all Christian interaction, especially for those in leadership. The pastor is called not to 'lord it over' the flock, but to serve them, following the path of Christ from glory to servanthood to exaltation."
          },
          {
            "heading": "Participationist Soteriology (Galatians 2)",
            "content": "The doctrine of salvation (soteriology) in Paul's letters is deeply participatory. Justification is not merely a legal declaration but an incorporation into Christ's own story. The believer, and by extension the pastor, can say with Paul, 'I have been crucified with Christ. It is no longer I who live, but Christ who lives in me' (Gal 2:20). This means the pastor's identity is no longer defined by personal ambition or failure, but by their union with the crucified and risen Lord. Ministry becomes the outworking of Christ's own life within the pastor."
          }
        ]
      },
      "pastoral-practices": {
        "display_name": "Pastoral Practices",
        "display_order": 3,
        "introduction": "Cruciform theology is not an abstract ideal; it concretely shapes the day-to-day work of the pastor.",
        "paragraphs": [
          {
            "heading": "Servant Leadership",
            "content": "A cruciform pastor leads by serving, not by commanding. This involves practical acts of love: visiting the sick, counseling the broken, listening more than speaking, and being present with people in their moments of joy and sorrow. It means prioritizing the needs of the congregation and the mission of God over the creation of a personal 'platform' or brand."
          },
          {
            "heading": "Embracing Suffering",
            "content": "Ministry in a fallen world is inseparable from sufferingâ€”both the pastor's own and that of the congregation. A cruciform approach does not try to escape or explain away suffering with easy answers. Instead, it enters into suffering with compassion, seeing it as a place of profound communion with the 'Man of Sorrows.' The pastor bears the burdens of the people, weeps with those who weep, and points them to the God who meets us in our darkest places."
          }
        ]
      }
    }
  },
  "cruciform-preaching": {
    "title": "Cruciform Preaching",
    "display_order": 2,
    "categories": {
      "core-principles": {
        "display_name": "Core Principles",
        "display_order": 1,
        "introduction": "Cruciform preaching is more than a style; it is a conviction that the message of the crucified and risen Christ is the center and circumference of all Christian proclamation. It shapes how the preacher interprets and applies the entirety of Scripture.",
        "paragraphs": [
          {
            "heading": "The Cross as Hermeneutic",
            "content": "To preach with the cross as a hermeneutic (an interpretive lens) means that every text is read in light of God's definitive revelation in Jesus' death and resurrection. Whether preaching from the Old Testament or the New, the sermon ultimately finds its way to the cross. This doesn't mean allegorizing every passage, but rather showing how every story, law, and prophecy finds its 'yes and amen' in Christ (2 Cor 1:20) and His redeeming work."
          },
          {
            "heading": "The 'Word of the Cross'",
            "content": "Paul describes his message as 'the word of the cross' (1 Cor 1:18), a message that confronts human pride and worldly wisdom. Cruciform preaching does not cater to 'felt needs' in a superficial way, nor does it offer self-help tips for a better life. It confronts the listener with their deep need for a savior, proclaims the radical grace of God for sinners, and calls for a life of repentance and faith. It is a message that comforts the afflicted and afflicts the comfortable."
          }
        ]
      },
      "practical-application": {
        "display_name": "Practical Application",
        "display_order": 2,
        "breakAfter": true,
        "introduction": "Moving from theological conviction to the weekly practice of sermon preparation and delivery requires intentionality.",
        "paragraphs": [
          {
            "heading": "Honest Engagement with the Text",
            "content": "Cruciform preaching is not an excuse to ignore the details of the biblical text. It begins with rigorous exegesis, understanding the passage in its original context. The preacher must first wrestle with the text honestly, allowing it to expose their own sin and need for grace, before proclaiming it to others. The journey from text to cross must be authentic, not forced."
          },
          {
            "heading": "Proclaiming both Law and Gospel",
            "content": "A cross-centered sermon faithfully proclaims both the Law and the Gospel. The Law reveals God's holy standard and exposes our sin, driving us to despair of our own righteousness. The Gospel then proclaims the good news: what we could not do, Christ has done for us. Every sermon should wound with the Law and heal with the Gospel, leading the hearer not to self-improvement, but to Christ-dependence."
          }
        ]
      }
    }
  },
  "cruciform-discipleship": {
    "title": "Cruciform Discipleship",
    "display_order": 3,
    "categories": {
      "call-to-discipleship": {
        "display_name": "The Call to Discipleship",
        "display_order": 1,
        "introduction": "The call to follow Jesus is a call to a cruciform life. 'Whoever wants to be my disciple must deny themselves and take up their cross and follow me' (Mark 8:34). The pastor's role is to model this life and call others into it.",
        "paragraphs": [
          {
            "heading": "Dying to Self",
            "content": "Taking up one's cross is a daily act of dying to the self-centered patterns of the old nature. It is the practice of surrendering one's own rights, ambitions, and desires to the Lordship of Christ. This is not about self-hatred, but about dethroning the self so that Christ can be enthroned. Disciples are formed as they learn to say 'no' to sin and 'yes' to God in the small and large decisions of life."
          },
          {
            "heading": "Living for Others",
            "content": "The cruciform life, having died to self, is freed to truly live for God and others. The cross reorients our entire existence outward. We no longer ask, 'What's in it for me?' but 'How can I serve God and love my neighbor?' This is the 'new life' of the resurrection, lived out in practical service, radical generosity, and selfless love."
          }
        ]
      },
      "community-formation": {
        "display_name": "Cruciform Community",
        "display_order": 2,
        "introduction": "A cruciform pastor does not just produce individualistic 'cross-bearers,' but cultivates a community whose entire culture is shaped by the cross.",
        "paragraphs": [
          {
            "heading": "A Culture of Forgiveness",
            "content": "The cross is the ultimate demonstration of God's forgiveness. Therefore, a church shaped by the cross must be a community of radical forgiveness and reconciliation. It is a place where people are not defined by their past mistakes but are received with grace. Members learn to bear with one another, forgive as they have been forgiven (Col 3:13), and pursue peace."
          },
          {
            "heading": "A Mission of Hospitality",
            "content": "On the cross, Christ reconciled to himself a world that was hostile to him. A cruciform community, therefore, does not exist for itself. It is marked by a mission of hospitality, actively welcoming the stranger, the outcast, and the sinner. It is a community that moves toward the margins, just as Christ did, offering the embrace of God to all who would come."
          }
        ]
      }
    }
  }
}
  </script>

  <div class="fixed top-4 right-4 z-50">
    <button id="theme-switcher-btn" class="p-2 rounded-full" aria-label="toggle theme">
      <svg id="sun-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M12 12a5 5 0 100-10 5 5 0 000 10z"/></svg>
      <svg id="moon-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/></svg>
    </button>
  </div>

  <main id="app-container" class="prose dark:prose-invert mx-auto max-w-prose p-8"></main>

  <script>
    /* ---------- state ---------- */
    let masterLibrary=null,sortedLibraryIds=null,currentLibraryId=null
    let libraryData=null,sortedTopicIds=null,currentTopicId=null,currentArticleId=null
    const app=document.getElementById('app-container')

    /* ---------- helpers ---------- */
    const looksLikeTopic=o=>o&&typeof o==='object'&&('categories'in o||'title'in o)

    /* ---------- rendering ---------- */
    const buildLibrarySwitch=()=>!sortedLibraryIds||sortedLibraryIds.length<2?'':`
      <div class="nav-container">
        <select id="library-switcher" class="nav-button">
          ${sortedLibraryIds.map(id=>{
            const label=id.replace(/-/g,' ').replace(/\b\w/g,c=>c.toUpperCase())
            return `<option value="${id}" ${id===currentLibraryId?'selected':''}>${label}</option>`
          }).join('')}
        </select>
      </div>`

    const buildTopicSwitch=()=>`
      <div class="nav-container">
        <select id="topic-switcher" class="nav-button">
          ${sortedTopicIds.map(tid=>{
            const t=libraryData[tid];return `<option value="${tid}" ${tid===currentTopicId?'selected':''}>${t.title}</option>`
          }).join('')}
        </select>
      </div>`

    const buildNav=(cats,keys)=>{
      let html='<div class="nav-container"><h3>Select Article:</h3><div class="nav-buttons-wrapper">'
      keys.forEach(k=>{
        const a=cats[k]
        html+=`<button class="nav-button article-btn ${k===currentArticleId?'active':''}" data-article-id="${k}">${a.display_name}</button>`
        if(a.breakAfter)html+='<div class="flex-break"></div>'
      })
      return html+'</div></div>'
    }

    function render(){
      if(!libraryData)return
      sortedTopicIds=Object.keys(libraryData).sort((a,b)=>(libraryData[a].display_order||0)-(libraryData[b].display_order||0))
      if(!currentTopicId||!libraryData[currentTopicId])currentTopicId=sortedTopicIds[0]
      const topic=libraryData[currentTopicId]
      const artKeys=Object.keys(topic.categories||{}).sort((a,b)=>(topic.categories[a].display_order||0)-(topic.categories[b].display_order||0))
      if(!currentArticleId||!topic.categories[currentArticleId])currentArticleId=artKeys[0]
      const art=topic.categories[currentArticleId]

      app.innerHTML=buildLibrarySwitch()+`<h1>${topic.title}</h1>`+buildTopicSwitch()+buildNav(topic.categories,artKeys)+
        `<h2>${art.name||art.display_name||''}</h2>${art.introduction?`<p>${art.introduction}</p>`:''}`+
        (art.paragraphs||[]).map(p=>`<h3>${p.heading}</h3><p>${p.content}</p>`).join('')
      document.title=topic.title||'Adaptive Reader'

      document.querySelectorAll('.article-btn').forEach(btn=>btn.onclick=e=>{
        currentArticleId=e.target.dataset.articleId;render()
      })
      const ts=document.getElementById('topic-switcher')
      if(ts)ts.onchange=e=>{currentTopicId=e.target.value;currentArticleId=null;render()}
      const ls=document.getElementById('library-switcher')
      if(ls)ls.onchange=e=>{
        currentLibraryId=e.target.value
        localStorage.setItem('readerLibraryId',currentLibraryId)
        libraryData=masterLibrary[currentLibraryId];currentTopicId=currentArticleId=null;render()
      }
    }

    /* ---------- data load ---------- */
    async function init(){
      let raw=null
      try{
        const res=await fetch('./data/content.json',{cache:'no-store'})
        if(!res.ok)throw new Error('not ok');raw=await res.json()
      }catch{
        const embedded=document.getElementById('embedded-content').textContent.trim()
        if(!embedded)throw new Error('no data');raw=JSON.parse(embedded)
      }

      const keys=Object.keys(raw)
      if(!keys.length)throw new Error('empty data')
      if(looksLikeTopic(raw[keys[0]])){
        masterLibrary=null;sortedLibraryIds=null;currentLibraryId=null
        libraryData=raw
      }else{
        masterLibrary=raw
        sortedLibraryIds=keys.sort()
        currentLibraryId=localStorage.getItem('readerLibraryId')
        if(!currentLibraryId||!masterLibrary[currentLibraryId])currentLibraryId=sortedLibraryIds[0]
        libraryData=masterLibrary[currentLibraryId]
      }
      currentTopicId=currentArticleId=null
      render()
    }

    /* ---------- theme ---------- */
    const themeBtn=document.getElementById('theme-switcher-btn')
    function applyTheme(t){
      const dark=t==='dark'
      document.documentElement.classList.toggle('dark',dark)
      document.body.classList.toggle('dark-theme',dark)
      document.body.classList.toggle('font-dark-theme',dark)
      document.body.classList.toggle('newspaper-theme',!dark)
      document.body.classList.toggle('font-newspaper',!dark)
      document.getElementById('sun-icon').classList.toggle('hidden',dark)
      document.getElementById('moon-icon').classList.toggle('hidden',!dark)
    }
    themeBtn.onclick=()=>{const t=document.documentElement.classList.contains('dark')?'light':'dark';localStorage.setItem('theme',t);applyTheme(t)}

    /* ---------- boot ---------- */
    document.addEventListener('DOMContentLoaded',()=>{
      applyTheme(localStorage.getItem('theme')||'light')
      init().catch(err=>{console.error(err);app.innerHTML='<h1>Error</h1><p>Could not load content.</p>'})
    })
  </script>
</body>
</html>
