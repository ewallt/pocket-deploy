<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The War of the Currents</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            line-height: 1.6;
            color: #2c3e50;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 2rem;
            background: rgba(255, 255, 255, 0.95);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 2.5rem;
            color: #2c3e50;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .header p {
            font-size: 1.1rem;
            color: #7f8c8d;
            font-style: italic;
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .tab-button {
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            color: #2c3e50;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .tab-button:hover {
            background: rgba(255, 255, 255, 1);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .tab-button.active {
            background: #3498db;
            color: white;
            transform: translateY(-2px);
        }

        .content-section {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
            backdrop-filter: blur(10px);
        }

        .content-section.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .person-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 2rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            border-left: 5px solid #3498db;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .person-card h2 {
            color: #2c3e50;
            margin-bottom: 1rem;
            font-size: 1.8rem;
        }

        .person-card .bio {
            color: #7f8c8d;
            font-style: italic;
            margin-bottom: 1.5rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 8px;
        }

        .section-title {
            font-size: 1.5rem;
            color: #2c3e50;
            margin: 2rem 0 1rem 0;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #3498db;
        }

        .subsection {
            margin: 1.5rem 0;
            padding: 1rem;
            background: rgba(52, 152, 219, 0.05);
            border-radius: 8px;
            border-left: 3px solid #3498db;
        }

        .subsection h4 {
            color: #2c3e50;
            margin-bottom: 0.5rem;
            font-size: 1.2rem;
        }

        .key-works {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .work-item {
            background: rgba(255, 255, 255, 0.8);
            padding: 1rem;
            border-radius: 8px;
            border-left: 3px solid #e74c3c;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .work-item strong {
            color: #2c3e50;
            display: block;
            margin-bottom: 0.5rem;
        }

        .quote-section {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            color: #2c3e50;
            padding: 2rem;
            border-radius: 15px;
            margin: 2rem 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .quote-container {
            display: grid;
            gap: 1.5rem;
            max-height: 500px;
            overflow-y: auto;
            padding-right: 1rem;
        }

        .quote-item {
            background: rgba(255, 255, 255, 0.9);
            padding: 1.5rem;
            border-radius: 10px;
            border-left: 4px solid #3498db;
            backdrop-filter: blur(5px);
            transition: transform 0.3s ease;
        }

        .quote-item:hover {
            transform: translateX(5px);
            background: rgba(255, 255, 255, 1);
        }

        .quote-text {
            font-style: italic;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
            line-height: 1.7;
            color: #2c3e50;
        }

        .quote-source {
            font-size: 0.9rem;
            color: #3498db;
            font-weight: 600;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-top: 2rem;
        }

        .comparison-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .comparison-card h3 {
            color: #2c3e50;
            margin-bottom: 1rem;
            text-align: center;
            font-size: 1.4rem;
        }

        .search-box {
            width: 100%;
            padding: 12px;
            font-size: 1rem;
            border: 2px solid #3498db;
            border-radius: 25px;
            margin-bottom: 1rem;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
        }

        .search-box:focus {
            outline: none;
            box-shadow: 0 0 15px rgba(52, 152, 219, 0.3);
        }

        .highlight {
            background-color: #f39c12;
            color: white;
            padding: 2px 4px;
            border-radius: 3px;
        }

        @media (max-width: 768px) {
            .comparison-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .nav-tabs {
                flex-direction: column;
                align-items: center;
            }
            
            .tab-button {
                width: 200px;
                text-align: center;
            }
        }

        .scrollbar-custom::-webkit-scrollbar {
            width: 8px;
        }

        .scrollbar-custom::-webkit-scrollbar-track {
            background: rgba(52, 152, 219, 0.1);
            border-radius: 4px;
        }

        .scrollbar-custom::-webkit-scrollbar-thumb {
            background: rgba(52, 152, 219, 0.5);
            border-radius: 4px;
        }

        .scrollbar-custom::-webkit-scrollbar-thumb:hover {
            background: rgba(52, 152, 219, 0.7);
        }
    </style>
</head>
<body>

    <script id="embedded-content" type="application/json">
    {
      "title": "The War of the Currents",
      "subtitle": "A Comparison of Nikola Tesla's and Thomas Edison's Electrical Systems",
      "sections": {
        "overview": {
          "tabName": "Overview",
          "type": "overview",
          "title": "The Battle for Electrical Supremacy",
          "introduction": "In the late 19th century, the world stood on the brink of an electrical revolution. As cities grew and industries boomed, the demand for electric light and power created a monumental opportunity. Two competing technologies emerged to meet this demand, championed by two titans of invention, leading to a fierce public and technical battle known as the 'War of the Currents'.",
          "subsections": [
            {
              "title": "The Central Problem: Power at a Distance",
              "content": "The primary challenge was transmitting electrical power from a generator to homes and factories miles away without significant power loss. The existing standard, Direct Current (DC), was inefficient over long distances, requiring power plants to be located every square mile."
            },
            {
              "title": "Two Competing Visions",
              "content": "<strong>Thomas Edison</strong> defended his established Direct Current (DC) system, which was safe at low voltages but impractical for broad distribution. <strong>Nikola Tesla</strong> championed a new system, Alternating Current (AC), which could be easily 'stepped up' to high voltages for efficient long-distance travel and then 'stepped down' for safe consumer use."
            },
            {
              "title": "The Stakes of the War",
              "content": "The victor would not only reap enormous financial rewards but would also determine the very shape of the modern electrical grid, influencing the development of society for the next century. The battle involved scientific debate, corporate espionage, and a dramatic public relations campaign."
            }
          ]
        },
        "edison": {
          "tabName": "Thomas Edison",
          "type": "person",
          "name": "Thomas Edison (1847-1931)",
          "bio": "A prolific American inventor and astute businessman, Thomas Edison held over 1,000 patents and is credited with developing many devices that greatly influenced life around the world. His promotion of Direct Current (DC) established the first electrical utilities, but his insistence on its superiority led him into direct conflict with Tesla's more efficient AC system.",
          "concepts": [
            {
              "title": "Direct Current (DC)",
              "content": "Edison's system was built on DC, where electricity flows in one constant direction. It was effective for his incandescent light bulb and early motors, but its low voltage made it suffer from significant power loss over distance, limiting its range."
            },
            {
              "title": "The Power of the System",
              "content": "Edison's true genius was in creating a complete, commercially viable <em>system</em>: the generator (dynamo), the wiring, the fuse, and the light bulb itself. This created a powerful, entrenched infrastructure that was difficult to challenge."
            },
            {
              "title": "Pragmatic, Market-Driven Invention",
              "content": "Edison was a master of iterative development and practical application. His focus was on creating commercially successful products. This led him to defend his existing, profitable DC system fiercely against the disruptive potential of AC."
            },
            {
              "title": "The Anti-AC Campaign",
              "content": "To combat the rise of AC, Edison launched a public relations campaign to portray it as dangerously unsafe. This campaign involved public demonstrations where animals were electrocuted using AC, and lobbying to make 'Westinghoused' (after Tesla's corporate partner) a term for execution by electric chair."
            }
          ],
          "keyWorks": [
            {
              "title": "Pearl Street Station (1882)",
              "description": "The first commercial central power plant in the United States, providing DC power to customers in a one-square-mile area of Manhattan."
            },
            {
              "title": "The Incandescent Light Bulb",
              "description": "A commercially viable and long-lasting light bulb that created the mass-market demand for an electrical system."
            },
            {
              "title": "The Phonograph (1877)",
              "description": "One of his most famous inventions, demonstrating his ability to innovate in multiple fields beyond electricity."
            }
          ]
        },
        "tesla": {
          "tabName": "Nikola Tesla",
          "type": "person",
          "name": "Nikola Tesla (1856-1943)",
          "bio": "A Serbian-American inventor, physicist, and futurist, Nikola Tesla is best known for his revolutionary contributions to the design of the modern Alternating Current (AC) electrical system. A brilliant visionary who was often more focused on the science than on commerce, his work provided the foundation for the modern power grid.",
          "concepts": [
            {
              "title": "Alternating Current (AC)",
              "content": "Tesla's system was based on AC, where the current rapidly reverses direction. Its key advantage is that its voltage can be easily and efficiently changed using a transformer, allowing for high-voltage, low-loss transmission over vast distances."
            },
            {
              "title": "The AC Induction Motor",
              "content": "Previously, a practical motor for AC power did not exist. Tesla's invention of the brushless AC induction motor was a breakthrough. It was simple, reliable, and required little maintenance, making AC a viable system for industrial power."
            },
            {
              "title": "Visionary, Theoretic Invention",
              "content": "Tesla was driven by grand visions for the future. He conceived of entire systems in his mind before building them. His work extended beyond the grid to concepts like radio, remote control, and even wireless power transmission."
            },
            {
              "title": "The Power of Partnership",
              "content": "Understanding he could not compete with Edison's corporate might alone, Tesla partnered with George Westinghouse. He licensed his AC patents to the Westinghouse Electric & Manufacturing Company, providing the industrial power needed to win the war."
            }
          ],
          "keyWorks": [
            {
              "title": "Niagara Falls Power Project (1896)",
              "description": "The construction of the first large-scale hydroelectric power plant, which used Tesla's AC system to transmit power over 20 miles to Buffalo, NY. This was the definitive victory for AC."
            },
            {
              "title": "The Polyphase AC System",
              "description": "Tesla's portfolio of patents for a complete system of generators, transformers, and motors that formed the backbone of the modern electrical grid."
            },
            {
              "title": "The Tesla Coil",
              "description": "An electrical resonant transformer circuit invented to produce high-voltage, low-current, high-frequency AC electricity. It demonstrated his mastery of electrical resonance."
            }
          ]
        },
        "comparison": {
          "tabName": "Comparison",
          "type": "comparison",
          "title": "Technology & Strategy Showdown",
          "grid": [
            {
              "title": "Thomas Edison",
              "items": [
                {
                  "label": "Core Technology",
                  "content": "Direct Current (DC)"
                },
                {
                  "label": "Primary Advantage",
                  "content": "Established early; perceived as safer for end-users."
                },
                {
                  "label": "Key Weakness",
                  "content": "Inefficient for long-distance transmission."
                },
                {
                  "label": "Methodology",
                  "content": "Market-focused, iterative trial-and-error."
                }
              ]
            },
            {
              "title": "Nikola Tesla",
              "items": [
                {
                  "label": "Core Technology",
                  "content": "Alternating Current (AC)"
                },
                {
                  "label": "Primary Advantage",
                  "content": "Highly efficient for long-distance transmission."
                },
                {
                  "label": "Key Weakness",
                  "content": "Unfairly perceived as more dangerous; required new infrastructure."
                },
                {
                  "label": "Methodology",
                  "content": "Visionary, theory-driven system design."
                }
              ]
            }
          ]
        },
        "commonGround": {
          "title": "Shared Principles & History",
          "items": [
            "Both were brilliant inventors who fundamentally understood electrical principles.",
            "Both envisioned a future where entire nations were powered by electricity.",
            "Tesla briefly worked for Edison at his Edison Machine Works in 1884.",
            "Both focused on creating entire systems, not just single, isolated inventions.",
            "Neither man was a stranger to public demonstrations to prove their points."
          ]
        },
        "quotes": {
          "tabName": "Key Quotes",
          "type": "quotes",
          "title": "In Their Own Words",
          "quotes": [
            {
              "text": "The present is theirs; the future, for which I have really worked, is mine.",
              "source": "Nikola Tesla"
            },
            {
              "text": "Genius is one percent inspiration and ninety-nine percent perspiration.",
              "source": "Thomas Edison"
            },
            {
              "text": "Our virtues and our failings are inseparable, like force and matter. When they separate, man is no more.",
              "source": "Nikola Tesla"
            },
            {
              "text": "I have not failed. I've just found 10,000 ways that won't work.",
              "source": "Thomas Edison"
            },
            {
              "text": "Ere many generations pass, our machinery will be driven by a power obtainable at any point in the universe.",
              "source": "Nikola Tesla"
            },
            {
              "text": "To invent, you need a good imagination and a pile of junk.",
              "source": "Thomas Edison"
            }
          ]
        }
      }
    }
    </script>

    <div class="container">
        <div class="header">
            <h1 id="app-title">Loading...</h1>
            <p id="app-subtitle">Please wait</p>
        </div>

        <div class="nav-tabs" id="nav-tabs">
            </div>

        <div id="content-container">
            </div>
    </div>

    <script>
        let studyData = null;
        let currentTab = null;

        // Load and parse JSON data
        async function loadData() {
            try {
                // First, try to fetch from an external file (for easy editing in dev)
                const res = await fetch('./content.json', {cache: 'no-store'});
                if (!res.ok) throw new Error('External file not found or invalid.');
                studyData = await res.json();
                console.log('Loaded data from external content.json');
            } catch (e) {
                // If fetch fails, fall back to embedded JSON
                console.log('External file not found. Falling back to embedded data.');
                const embedded = document.getElementById('embedded-content').textContent.trim();
                if (!embedded) {
                    throw new Error('No embedded content found!');
                }
                studyData = JSON.parse(embedded);
            }
        }

        function renderApp() {
            if (!studyData) return;

            // Set title and subtitle
            document.title = studyData.title || 'Idea Comparator';
            document.getElementById('app-title').textContent = studyData.title || 'Idea Comparator';
            document.getElementById('app-subtitle').textContent = studyData.subtitle || '';

            // Generate tabs
            const tabsContainer = document.getElementById('nav-tabs');
            const contentContainer = document.getElementById('content-container');
            
            tabsContainer.innerHTML = '';
            contentContainer.innerHTML = '';

            const tabKeys = Object.keys(studyData.sections || {});
            if (!tabKeys.length) return;

            // Set first tab as current if none set
            if (!currentTab) currentTab = tabKeys[0];

            // Create tab buttons and content sections
            tabKeys.forEach(tabKey => {
                const section = studyData.sections[tabKey];
                const button = document.createElement('button');
                button.className = 'tab-button';
                button.textContent = section.tabName || tabKey;
                button.dataset.tabKey = tabKey; 
                button.onclick = () => showTab(tabKey);
                tabsContainer.appendChild(button);

                const contentDiv = document.createElement('div');
                contentDiv.id = tabKey;
                contentDiv.className = 'content-section';
                contentDiv.innerHTML = generateSectionContent(section);
                contentContainer.appendChild(contentDiv);
            });
            
            // Activate the initial tab
            showTab(currentTab);
        }

        function generateSectionContent(section) {
            let html = '';

            if (section.type === 'overview') {
                html += `<h2 class="section-title">${section.title}</h2>`;
                if (section.introduction) {
                    html += `<p>${section.introduction}</p>`;
                }
                section.subsections?.forEach(sub => {
                    html += `
                        <div class="subsection">
                            <h4>${sub.title}</h4>
                            <p>${sub.content}</p>
                        </div>
                    `;
                });
            } 
            else if (section.type === 'person') {
                html += `
                    <div class="person-card">
                        <h2>${section.name}</h2>
                        <div class="bio">${section.bio}</div>
                    </div>
                `;
                if(section.concepts && section.concepts.length > 0){
                    html += `<div class="section-title">Core Concepts</div>`;
                    section.concepts.forEach(concept => {
                        html += `
                            <div class="subsection">
                                <h4>${concept.title}</h4>
                                <p>${concept.content}</p>
                            </div>
                        `;
                    });
                }
                
                if (section.keyWorks && section.keyWorks.length > 0) {
                    html += `<div class="section-title">Key Works & Achievements</div><div class="key-works">`;
                    section.keyWorks.forEach(work => {
                        html += `
                            <div class="work-item">
                                <strong>${work.title}</strong>
                                ${work.description}
                            </div>
                        `;
                    });
                    html += '</div>';
                }
            }
            else if (section.type === 'comparison') {
                html += `<h2 class="section-title">${section.title}</h2>`;
                if (section.grid && section.grid.length > 0) {
                    html += '<div class="comparison-grid">';
                    section.grid.forEach(card => {
                        html += `<div class="comparison-card"><h3>${card.title}</h3>`;
                        card.items?.forEach(item => {
                            html += `
                                <div class="subsection">
                                    <h4>${item.label}</h4>
                                    <p>${item.content}</p>
                                </div>
                            `;
                        });
                        html += '</div>';
                    });
                    html += '</div>';
                }
                
                if (section.commonGround && section.commonGround.items && section.commonGround.items.length > 0) {
                    html += `<h2 class="section-title">${section.commonGround.title || 'Common Ground'}</h2>`;
                    html += '<ul style="padding: 1.5rem 1.5rem 1.5rem 3rem; background: rgba(52, 152, 219, 0.05); border-radius: 8px;">';
                    section.commonGround.items.forEach(item => {
                        html += `<li style="margin-bottom: 0.5rem;">${item}</li>`;
                    });
                    html += '</ul>';
                }
            }
            else if (section.type === 'quotes') {
                html += `
                    <h2 class="section-title">${section.title}</h2>
                    <div class="quote-section">
                        <div class="quote-container scrollbar-custom" id="quoteContainer">
                            </div>
                    </div>
                `;
            }

            return html;
        }

        function showTab(tabName) {
            currentTab = tabName;
            
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.tabKey === tabName);
            });
            
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.toggle('active', section.id === tabName);
            });

            if (tabName === 'quotes') {
                populateQuotes();
            }
        }

        function populateQuotes() {
            const container = document.getElementById('quoteContainer');
            const quotesData = studyData.sections.quotes?.quotes;
            if (!container || !quotesData) return;
            
            container.innerHTML = ''; // Clear previous quotes
            quotesData.forEach(quote => {
                const quoteDiv = document.createElement('div');
                quoteDiv.className = 'quote-item';
                quoteDiv.innerHTML = `
                    <p class="quote-text">"${quote.text}"</p>
                    <p class="quote-source">â€” ${quote.source}</p>
                `;
                container.appendChild(quoteDiv);
            });
        }
        
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                await loadData();
                renderApp();
            } catch (error) {
                console.error("Failed to initialize the application:", error);
                document.getElementById('app-title').textContent = 'Error';
                document.getElementById('app-subtitle').textContent = 'Could not load content. Please check the console for details.';
            }
        });
    </script>
</body>
</html>
