<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Report SPA — Template (Course-Theme Palette + Navy)</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
/* ========= Base tokens (default = "Newspaper") ========= */
:root{
  --bg: #fdfdf8;
  --ink: #1c1c1c;
  --muted: #3f3f3f;
  --card: #f1f1eb;
  --line: #dcdcd3;
  --acc1: #8c1c13;
  --acc2: #8c1c13;
}
/* ========= Emerald Paper (light) ========= */
.theme-emerald-paper{
  --bg: #f7fbf9;
  --ink: #1e2b28;
  --muted: #2b423d;
  --card: #e7f3ef;
  --line: #86c8ba;
  --acc1: #0f7f6d;
  --acc2: #0f7f6d;
}
/* ========= Emerald/Gold (dark) ========= */
.theme-emerald-gold{
  --bg: linear-gradient(135deg,#022c22 0%,#064e3b 60%,#065f46 100%);
  --ink: #ecfdf5;
  --muted: #a7f3d0;
  --card: #064e3b;
  --line: #0d9488;
  --acc1: #f0c475;
  --acc2: #d4a24c;
}
.theme-emerald-gold .tab-btn[aria-selected="true"]{
  background:#065f46; color:#ecfdf5; border-color:#0d9488;
  box-shadow: inset 0 0 0 1px #f0c475;
}
.theme-emerald-gold .tab-btn:focus-visible{ outline:2px solid #f0c475; outline-offset:2px; }

/* ========= Navy (dark) ========= */
.theme-navy{
  --bg: linear-gradient(135deg,#0a0a23 0%, #141433 50%, #0f172a 100%);
  --ink: #e5e7eb;
  --muted: #94a3b8;
  --card: #0f172a;
  --line: #1f2937;
  --acc1: #cbd5e1;
  --acc2: #94a3b8;
}
.theme-navy .section-title{ color: var(--ink); }
.theme-navy a{ color:#60a5fa; }
.theme-navy a:hover{ color:#93c5fd; }
.theme-navy .tab-btn[aria-selected="true"]{
  background:#1f2937; color:#e5e7eb; border-color:#334155;
  box-shadow: inset 0 0 0 1px #3b82f6;
}
.theme-navy .tab-btn:focus-visible{ outline:2px solid #60a5fa; outline-offset:2px; }

/* ========= Shell styling ========= */
html,body{height:100%}
body{background:var(--bg);color:var(--ink);font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Inter,Arial}
.card{background:var(--card);border:1px solid var(--line);border-radius:.75rem}
.tab-btn{border:1px solid var(--line);background:var(--card);border-radius:.5rem}
.tab-btn[aria-selected="true"]{
  background:linear-gradient(45deg,var(--acc1),var(--acc2));color:white;border-color:transparent
}
a{color: var(--acc2)}
.section-title{color: var(--acc1)}

/* (Optional) Cyber Blue flavor kept for consistency */
.theme-cyber-blue .tab-button.tab-active {
  background-color: #1f2937; color: #e5e7eb; border-bottom-color: #93c5fd;
  box-shadow: inset 0 0 0 1px #3b82f6;
}
.theme-cyber-blue a { color: #60a5fa; }
.theme-cyber-blue a:hover { color: #93c5fd; }
.theme-cyber-blue .prose a { color:#60a5fa; text-decoration-color:#60a5fa; }
.theme-cyber-blue .prose a:hover { color:#93c5fd; text-decoration-color:#93c5fd; }
</style>
</head>
<body class="min-h-screen flex flex-col">
<header>
  <div class="px-6 py-6 border-b" style="border-color:var(--line);background:var(--card)">
    <h1 id="appTitle" class="text-2xl font-bold tracking-tight">Report SPA — Template</h1>
    <p id="appSubtitle" class="mt-1 text-sm" style="color:var(--muted)">Paste content JSON into the data island at the bottom.</p>
  </div>
  <div class="px-6 py-3 flex items-center gap-3" style="background:color-mix(in oklab, var(--card) 75%, transparent);border-bottom:1px solid var(--line)">
    <div class="flex items-center gap-2">
      <label for="theme" class="text-sm" style="color:var(--muted)">Theme</label>
      <select id="theme" class="text-sm px-2 py-1 rounded border" style="background:var(--card);color:var(--ink);border-color:var(--line)">
        <option value="newspaper">Newspaper (Light)</option>
        <option value="navy">Navy (Dark)</option>
        <option value="emerald-paper">Emerald Paper (Light)</option>
        <option value="emerald-gold">Emerald/Gold (Dark)</option>
      </select>
    </div>
  </div>
  <nav class="px-6 py-3 flex flex-wrap gap-2" role="tablist" aria-label="Primary">
    <button class="tab-btn px-3 py-2 text-sm" data-tab="overview"  aria-selected="true">Overview</button>
    <button class="tab-btn px-3 py-2 text-sm" data-tab="concepts"  aria-selected="false">Concepts</button>
    <button class="tab-btn px-3 py-2 text-sm" data-tab="data"      aria-selected="false">Evidence / Data</button>
    <button class="tab-btn px-3 py-2 text-sm" data-tab="timeline"  aria-selected="false">Timeline</button>
    <button class="tab-btn px-3 py-2 text-sm" data-tab="critiques" aria-selected="false">Critiques</button>
    <button class="tab-btn px-3 py-2 text-sm" data-tab="glossary"  aria-selected="false">Glossary</button>
    <button class="tab-btn px-3 py-2 text-sm" data-tab="source"    aria-selected="false">Source</button>
  </nav>
</header>

<main class="px-6 py-8 space-y-8 grow">
  <!-- Overview -->
  <section id="tab-overview" class="space-y-4">
    <!-- Main Statement card (hidden by default; shows if DATA.main_statement exists) -->
    <article id="main-statement-wrap" class="card p-6 hidden">
      <h2 class="text-xl font-semibold section-title mb-2">Main Statement</h2>
      <p id="main-statement-text" class="text-lg leading-relaxed"></p>
    </article>

    <article class="card p-6">
      <h2 class="text-xl font-semibold section-title mb-2">Context & Takeaways</h2>
      <p id="ovr-intro" class="mb-3"></p>
      <ul id="ovr-bullets" class="list-disc pl-5 space-y-1"></ul>
    </article>

    <div id="ovr-cards" class="grid md:grid-cols-2 gap-4"></div>
  </section>

  <!-- Concepts -->
  <section id="tab-concepts" class="hidden space-y-4">
    <article class="card p-6">
      <h2 class="text-xl font-semibold section-title mb-2">Core Concepts</h2>
      <p id="con-intro" class="mb-3"></p>
      <ul id="con-bullets" class="list-disc pl-5 space-y-1"></ul>
    </article>
    <div id="concepts-grid" class="grid md:grid-cols-2 gap-4"></div>
  </section>

  <!-- Evidence / Data -->
  <section id="tab-data" class="hidden space-y-4">
    <article class="card p-6">
      <h2 class="text-xl font-semibold section-title mb-2">Evidence / Data</h2>
      <p id="dat-intro" class="mb-3"></p>
      <ul id="dat-bullets" class="list-disc pl-5 space-y-1"></ul>
    </article>
    <div id="data-grid" class="grid md:grid-cols-2 gap-4"></div>
  </section>

  <!-- Timeline -->
  <section id="tab-timeline" class="hidden space-y-4">
    <article class="card p-6">
      <h2 class="text-xl font-semibold section-title mb-2">Timeline</h2>
      <p id="tim-intro" class="mb-3"></p>
      <ul id="tim-bullets" class="list-disc pl-5 space-y-1"></ul>
    </article>
    <ol id="timeline-list" class="space-y-3"></ol>
  </section>

  <!-- Critiques -->
  <section id="tab-critiques" class="hidden space-y-4">
    <article class="card p-6">
      <h2 class="text-xl font-semibold section-title mb-2">Critiques & Debates</h2>
      <p id="cri-intro" class="mb-3"></p>
      <ul id="cri-bullets" class="list-disc pl-5 space-y-1"></ul>
    </article>
    <div id="critiques-grid" class="grid md:grid-cols-2 gap-4"></div>
  </section>

  <!-- Glossary -->
  <section id="tab-glossary" class="hidden space-y-4">
    <article class="card p-6">
      <h2 class="text-xl font-semibold section-title mb-2">Glossary</h2>
      <dl id="glossary-grid" class="grid md:grid-cols-2 gap-4"></dl>
    </article>
  </section>

  <!-- Source -->
  <section id="tab-source" class="hidden space-y-4">
    <article class="card p-6">
      <h2 class="text-xl font-semibold section-title mb-2">Source & Provenance</h2>
      <ul id="prov-list" class="list-disc pl-5 space-y-1 mb-4"></ul>
      <h3 class="font-semibold mb-2">Quotes</h3>
      <ul id="quotes-list" class="list-disc pl-5 space-y-1"></ul>
    </article>
  </section>
</main>

<footer class="px-6 py-8 text-sm" style="color:var(--muted)">© 2025 Report SPA • Single-file template</footer>

<!-- ========= CONTENT JSON DATA ISLAND ========= -->
<script id="report" type="application/json">
{
  "meta": {
    "title": "The Gospel According to Graham Maxwell",
    "subtitle": "God’s trustworthy character revealed in Christ; the Good News as the restoration of trust",
    "report_provenance": [
      { "label": "Compiled by", "detail": "Instructor v6.2 — Maxwell Session" },
      { "label": "Last updated", "detail": "2025-09-06" },
      { "label": "Primary sources", "detail": "Graham Maxwell, Can God Be Trusted?; Servant God (co-ed.); Conversations About God (lectures)" },
      { "label": "Key texts", "detail": "John 14:9; Hebrews 1:1–3; 2 Corinthians 5:19; Romans 3:4; John 17:3; Revelation 12; Job 1–2" }
    ]
  },
  "main_statement": "The Gospel is the good news that God is exactly like Jesus revealed Him to be—worthy of our trust—and that through the cross God won the decisive victory in the cosmic controversy about His character. Sin’s core is distrust and alienation; salvation is the healing of that relationship as we come to know and trust God. The cross is God’s clearest self-revelation: He would rather suffer and die than use coercion, thereby defeating the Accuser’s lies. To believe the Gospel is to become God’s ‘friends,’ living in joyful, intelligent trust that transforms character and community.",
  "sections": [
    {
      "id": "overview",
      "title": "Overview",
      "intro": "Maxwell centers the Gospel in a ‘Great Controversy’ over God’s character: Jesus reveals the truth about God, restoring trust and healing the relationship.",
      "bullets": [
        "Sin as distrust; salvation as restored trust (relational reconciliation).",
        "Jesus as the definitive revelation of the Father’s character (John 14:9; Heb 1:1–3).",
        "The cross exposes Satan’s lies and reveals God’s non-coercive love.",
        "Faith = intelligent trust built on evidence; ethics flow from friendship with God."
      ]
    },
    {
      "id": "concepts",
      "title": "Core Concepts",
      "intro": "Key motifs in Maxwell’s articulation of the Gospel.",
      "items": [
        {
          "id": "c1",
          "label": "Great Controversy",
          "summary": "Cosmic question of God’s character",
          "detail": "An onlooking universe evaluates whether God is truthful, just, and trustworthy."
        },
        {
          "id": "c2",
          "label": "Revelation Over Coercion",
          "summary": "Truth wins trust",
          "detail": "God persuades by self-giving love instead of force; the cross is His strongest argument."
        },
        {
          "id": "c3",
          "label": "Faith as Trust",
          "summary": "Relational fidelity",
          "detail": "Biblical ‘faith’ is confidence in God’s character grounded in evidence (history, Scripture, Jesus)."
        },
        {
          "id": "c4",
          "label": "Sin as Distrust",
          "summary": "Relational rupture",
          "detail": "Sin fractures the God–human relationship; healing requires the restoration of trust."
        },
        {
          "id": "c5",
          "label": "Atonement as Self-Revelation",
          "summary": "God with us and for us",
          "detail": "In Christ, God reconciles the world to Himself, revealing His faithful justice and mercy."
        }
      ]
    },
    {
      "id": "data",
      "title": "Evidence / Data",
      "intro": "Biblical anchors Maxwell repeatedly emphasized.",
      "items": [
        {
          "id": "d1",
          "label": "John 14:9; Hebrews 1:1–3",
          "summary": "See the Father in the Son",
          "detail": "Jesus perfectly images the Father’s character; there is no hidden, harsher deity behind Jesus."
        },
        {
          "id": "d2",
          "label": "2 Corinthians 5:19",
          "summary": "God in Christ reconciling",
          "detail": "Reconciliation originates in God’s initiative to heal the relationship."
        },
        {
          "id": "d3",
          "label": "Romans 3:4",
          "summary": "God shown true",
          "detail": "The controversy turns on God’s veracity and justice being publicly vindicated."
        },
        {
          "id": "d4",
          "label": "Revelation 12; Job 1–2",
          "summary": "Accusation & cosmic audience",
          "detail": "Scripture depicts an Accuser and an onlooking universe evaluating God’s government."
        }
      ]
    },
    {
      "id": "timeline",
      "title": "Timeline",
      "intro": "Moments shaping Maxwell’s gospel emphasis.",
      "items": [
        { "id": "t1", "label": "Mid–Late 20th c. — Teaching & Radio", "detail": "‘Conversations About God’ series popularizes trust-centered theology." },
        { "id": "t2", "label": "1980s–1990s — Can God Be Trusted?", "detail": "Publishes and lectures widely on God’s character and the great controversy." },
        { "id": "t3", "label": "2013 — Servant God (ed.)", "detail": "Collected essays articulating God’s non-coercive, self-giving love." }
      ]
    },
    {
      "id": "critiques",
      "title": "Critiques & Debates",
      "intro": "Common pushbacks and Maxwell’s likely replies.",
      "items": [
        {
          "id": "k1",
          "label": "Forensic Underspecification",
          "summary": "Legal categories minimized?",
          "detail": "Critics say law/penal elements recede; response: legal metaphors serve the larger relational healing."
        },
        {
          "id": "k2",
          "label": "Substitution Nuance",
          "summary": "How does the cross ‘deal with sin’?",
          "detail": "Emphasizes revelation and victory over lies; affirms substitution within a broader restorative frame."
        },
        {
          "id": "k3",
          "label": "Divine Wrath",
          "summary": "Consequence vs. retribution",
          "detail": "Stresses wrath as God ‘giving up’ (Rom 1) rather than arbitrary infliction; justice remains real."
        }
      ]
    }
  ],
  "glossary": [
    { "term": "Great Controversy", "definition": "The cosmic conflict over God’s character and government, observed by an onlooking universe." },
    { "term": "Faith (Trust)", "definition": "Informed confidence in God’s character based on evidence, especially Jesus Christ." },
    { "term": "Atonement (Revelatory)", "definition": "God’s self-disclosure in Christ that restores trust and reconciles the relationship." },
    { "term": "Non-Coercion", "definition": "God persuades rather than forces; love and truth, not compulsion, win loyalty." },
    { "term": "Accuser", "definition": "Satan as the one who maligns God’s character and methods." }
  ],
  "quotes": [
    { "text": "God is not the kind of person His enemies have made Him out to be.", "ref": "Maxwell, paraphrase" },
    { "text": "He who has seen me has seen the Father.", "ref": "John 14:9" },
    { "text": "God was in Christ reconciling the world to himself.", "ref": "2 Corinthians 5:19" }
  ]
}

</script>
<!-- =========================================== -->

<!-- ===== App Logic ===== -->
<script>
const $ = (id)=>document.getElementById(id);
let DATA={};
try{
  DATA = JSON.parse(document.getElementById('report').textContent);
}catch(e){
  DATA = { meta:{title:'Report SPA — Template',subtitle:'Paste content JSON into the <script id="report"> block.'}, sections:[], glossary:[], quotes:[] };
}

// Header
$('appTitle').textContent = DATA.meta?.title || 'Untitled';
$('appSubtitle').textContent = DATA.meta?.subtitle || '';

// Main Statement (optional)
(function(){
  const ms = DATA.main_statement || DATA.main_answer || DATA.main || '';
  if(!ms) return;
  const wrap = document.getElementById('main-statement-wrap');
  const p = document.getElementById('main-statement-text');
  if(wrap && p){
    p.textContent = ms;
    wrap.classList.remove('hidden');
  }
})();

// Theme selector
const themeSel = document.getElementById('theme');
function applyTheme(v){
  document.body.classList.remove('theme-navy','theme-emerald-paper','theme-cyber-blue','theme-emerald-gold');
  if(v==='navy')           document.body.classList.add('theme-navy');
  if(v==='emerald-paper')  document.body.classList.add('theme-emerald-paper');
  if(v==='cyber-blue')     document.body.classList.add('theme-cyber-blue');
  if(v==='emerald-gold')   document.body.classList.add('theme-emerald-gold');
  localStorage.setItem('hays-theme', v);
}
applyTheme(localStorage.getItem('hays-theme')||'newspaper');
themeSel.value = localStorage.getItem('hays-theme')||'newspaper';
themeSel.addEventListener('change', e=>applyTheme(e.target.value));

// Helpers
const sec = (id)=> (DATA.sections||[]).find(s=>s.id===id);
function fillContext(sectionId, introId, bulletsId){
  const s = sec(sectionId); if(!s) return;
  const introEl = $(introId), ul = $(bulletsId);
  if (introEl) introEl.textContent = s.intro || '';
  if (ul) { ul.innerHTML=''; (s.bullets||[]).forEach(b=>{ const li=document.createElement('li'); li.textContent=b; ul.appendChild(li); }); }
}
function renderItems(wrapId, items){
  const wrap = $(wrapId); if(!wrap) return;
  wrap.innerHTML='';
  (items||[]).forEach(it=>{
    const el=document.createElement('article');
    el.className='card p-5';
    el.innerHTML = `<h3 class="font-semibold mb-1 section-title">${it.label||''}</h3>
                    <p class="text-sm" style="color:var(--muted)">${it.summary||''}</p>
                    <p class="mt-1">${it.detail||''}</p>`;
    wrap.appendChild(el);
  });
}

// Overview
(function(){
  const s = sec('overview'); if(!s) return;
  fillContext('overview','ovr-intro','ovr-bullets');
  renderItems('ovr-cards', s.items);
})();

// Concepts
(function(){
  const s = sec('concepts'); if(!s) return;
  document.getElementById('tab-concepts').classList.remove('hidden');
  fillContext('concepts','con-intro','con-bullets');
  renderItems('concepts-grid', s.items);
})();

// Data
(function(){
  const s = sec('data'); if(!s) return;
  document.getElementById('tab-data').classList.remove('hidden');
  fillContext('data','dat-intro','dat-bullets');
  renderItems('data-grid', s.items);
})();

// Timeline
(function(){
  const s = sec('timeline'); if(!s) return;
  document.getElementById('tab-timeline').classList.remove('hidden');
  fillContext('timeline','tim-intro','tim-bullets');
  const list = $('timeline-list'); list.innerHTML='';
  (s.items||[]).forEach(it=>{
    const li=document.createElement('li');
    li.className='card p-4';
    li.innerHTML = `<div class="font-semibold section-title">${it.label||''}</div><div>${it.detail||''}</div>`;
    list.appendChild(li);
  });
})();

// Critiques
(function(){
  const s = sec('critiques'); if(!s) return;
  document.getElementById('tab-critiques').classList.remove('hidden');
  fillContext('critiques','cri-intro','cri-bullets');
  renderItems('critiques-grid', s.items);
})();

// Glossary
(function(){
  if(!(DATA.glossary||[]).length) return;
  document.getElementById('tab-glossary').classList.remove('hidden');
  const wrap=$('glossary-grid'); wrap.innerHTML='';
  (DATA.glossary||[]).forEach(g=>{
    const d=document.createElement('div');
    d.className='card p-5';
    d.innerHTML=`<dt class="font-semibold mb-1 section-title">${g.term||''}</dt><dd>${g.definition||''}</dd>`;
    wrap.appendChild(d);
  });
})();

// Source
(function(){
  const hasProv = (DATA.meta?.report_provenance||[]).length;
  const hasQuotes = (DATA.quotes||[]).length;
  if(!hasProv && !hasQuotes) return;
  document.getElementById('tab-source').classList.remove('hidden');
  const pl=$('prov-list'); pl.innerHTML='';
  (DATA.meta?.report_provenance||[]).forEach(p=>{
    const li=document.createElement('li'); li.textContent = `${p.label||''}: ${p.detail||''}`; pl.appendChild(li);
  });
  const ql=$('quotes-list'); ql.innerHTML='';
  (DATA.quotes||[]).forEach(q=>{
    const li=document.createElement('li'); li.textContent = `"${q.text||''}" — ${q.ref||''}`; ql.appendChild(li);
  });
})();

// Tabs
const tabs = Array.from(document.querySelectorAll('[data-tab]'));
const panels = {
  overview: document.getElementById('tab-overview'),
  concepts: document.getElementById('tab-concepts'),
  data: document.getElementById('tab-data'),
  timeline: document.getElementById('tab-timeline'),
  critiques: document.getElementById('tab-critiques'),
  glossary: document.getElementById('tab-glossary'),
  source: document.getElementById('tab-source')
};
function activate(key){
  for(const [k,el] of Object.entries(panels)){ el.classList.toggle('hidden', k!==key); }
  tabs.forEach(b=> b.setAttribute('aria-selected', b.dataset.tab===key ? 'true':'false'));
  localStorage.setItem('hays-tab', key);
  location.hash = key;
}
tabs.forEach(btn=> btn.addEventListener('click', ()=>activate(btn.dataset.tab)));
window.addEventListener('hashchange', ()=>{ const k=location.hash.replace('#',''); if(panels[k]) activate(k); });
activate(panels[location.hash.replace('#','')] ? location.hash.replace('#','') : (localStorage.getItem('hays-tab')||'overview'));
</script>
</body>
</html>

