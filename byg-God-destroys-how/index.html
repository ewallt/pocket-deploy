<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Behold Your God ‚Äî Ch.14 Teaching Kit</title>
<meta name="description" content="Handout + flashcards for 'God Does Destroy: But How?' (Ch.14) from Behold Your God." />
<style>
  :root{
    --bg:#0b1020; --panel:#0f172a; --ink:#e5e7eb; --muted:#94a3b8; --brand:#22d3ee;
    --chip:#1f2937; --chip-ink:#cbd5e1; --accent:#38bdf8; --ok:#10b981; --warn:#f59e0b; --bad:#ef4444;
    --border:#1e293b; --card:#111827; --hi:#f1f5f9; --radius:14px;
  }
  @media (prefers-color-scheme: light){
    :root{ --bg:#f7fafc; --panel:#ffffff; --ink:#0f172a; --muted:#475569; --brand:#0ea5e9; --chip:#eef2ff; --chip-ink:#3730a3; --accent:#2563eb; --border:#e5e7eb; --card:#ffffff; --hi:#0f172a; }
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; font:16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color:var(--ink); background:radial-gradient(1200px 800px at 70% -20%, rgba(56,189,248,.12), transparent 60%), var(--bg);
    -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  }
  a{color:var(--accent); text-decoration:none}
  .wrap{max-width:1000px; margin:0 auto; padding:20px}
  /* Header */
  .hdr{position:sticky; top:0; z-index:10; backdrop-filter:saturate(160%) blur(12px); background:color-mix(in oklab, var(--panel) 78%, transparent); border-bottom:1px solid var(--border)}
  .hdr-inner{display:flex; gap:16px; align-items:center; justify-content:space-between; padding:14px 20px}
  .title{display:flex; gap:12px; align-items:center; font-weight:700; letter-spacing:.2px}
  .badge{font-size:12px; padding:2px 8px; border-radius:999px; background:var(--chip); color:var(--chip-ink); border:1px solid var(--border)}
  .tabs{display:flex; gap:8px; flex-wrap:wrap}
  .tab{appearance:none; border:1px solid var(--border); background:var(--panel); color:var(--ink); padding:10px 14px; border-radius:999px; cursor:pointer; font-weight:600}
  .tab[aria-selected="true"]{background:linear-gradient(180deg, color-mix(in oklab, var(--brand) 55%, var(--panel)), var(--panel)); color:#03121a}
  .actions{display:flex; gap:8px; flex-wrap:wrap}
  .btn{appearance:none; border:1px solid var(--border); background:var(--panel); color:var(--ink); padding:10px 14px; border-radius:10px; cursor:pointer; font-weight:600}
  .btn:hover{outline:2px solid color-mix(in oklab, var(--brand) 35%, transparent)}
  .btn.green{border-color:color-mix(in oklab, var(--ok) 40%, var(--border));}
  /* Panels */
  .panel{background:linear-gradient(180deg, color-mix(in oklab, var(--panel) 86%, transparent), var(--panel)); border:1px solid var(--border); border-radius:var(--radius); padding:20px; box-shadow:0 10px 30px rgba(0,0,0,.08)}
  .section{margin:18px 0}
  h1{font-size:24px; margin:0}
  h2{font-size:18px; margin:20px 0 8px}
  h3{font-size:16px; margin:16px 0 6px}
  .k{color:var(--muted)}
  ul{margin:8px 0 8px 22px}
  li{margin:6px 0}
  .chips{display:flex; gap:8px; flex-wrap:wrap; margin:8px 0}
  .chip{background:var(--chip); color:var(--chip-ink); border:1px solid var(--border); padding:6px 10px; border-radius:999px; font-size:12px}
  .note{padding:10px 12px; border-left:3px solid var(--brand); background:color-mix(in oklab, var(--brand) 12%, transparent); border-radius:10px}
  .muted{color:var(--muted)}
  /* Flashcards */
  .fc-wrap{display:grid; gap:16px}
  .fc-toolbar{display:flex; gap:8px; flex-wrap:wrap; align-items:center}
  .fc{position:relative; border:1px solid var(--border); border-radius:18px; background:var(--card); padding:26px; min-height:220px; perspective:1000px; box-shadow:0 4px 20px rgba(3,7,18,.18)}
  .fc-inner{position:relative; width:100%; height:100%; transform-style:preserve-3d; transition:transform .35s ease}
  .fc.flipped .fc-inner{transform:rotateY(180deg)}
  .fc-side{position:absolute; inset:0; backface-visibility:hidden; display:flex; flex-direction:column; justify-content:center}
  .fc-back{transform:rotateY(180deg)}
  .fc-q{font-size:20px; font-weight:700}
  .fc-a{font-size:17px}
  .fc-foot{position:absolute; bottom:10px; left:16px; right:16px; display:flex; justify-content:space-between; align-items:center; color:var(--muted); font-size:12px}
  .fc-illus{font-size:12px; padding-top:10px; color:var(--muted)}
  .pill{padding:4px 8px; border-radius:999px; border:1px dashed var(--border)}
  /* Print: focus on handout */
  @media print{
    body{background:#fff; color:#000}
    .hdr, .actions, .tabs, .app-footer, .fc-wrap, .fc, .fc-toolbar{display:none !important}
    .panel{border:none; box-shadow:none; padding:0}
  }
</style>
</head>
<body>
  <header class="hdr">
    <div class="hdr-inner wrap">
      <div class="title">
        <span style="display:inline-flex; width:10px; height:10px; border-radius:999px; background:var(--brand)"></span>
        <span>Behold Your God</span>
        <span class="badge">Ch.14 ‚Äî Teaching Kit</span>
      </div>
      <nav class="tabs" role="tablist" aria-label="Sections">
        <button class="tab" role="tab" id="t-handout" aria-selected="true" aria-controls="tab-handout">Handout</button>
        <button class="tab" role="tab" id="t-flashcards" aria-selected="false" aria-controls="tab-flashcards">Flashcards</button>
      </nav>
      <div class="actions">
        <button class="btn" id="copyBtn" title="Copy handout to clipboard">Copy Handout</button>
        <button class="btn" id="printBtn" title="Print the handout">Print</button>
        <a class="btn green" href="https://github.com/ewallt/pocket-deploy/new/gh-pages?filename=byg-ch14-destroys-how/index.html" target="_blank" rel="noopener">GitHub Placeholder</a>
      </div>
    </div>
  </header>

  <main class="wrap" id="app">
    <!-- Handout -->
    <section id="tab-handout" class="panel tab-panel" role="tabpanel" aria-labelledby="t-handout">
      <div class="handout-root" id="handout"></div>
    </section>

    <!-- Flashcards -->
    <section id="tab-flashcards" class="panel tab-panel" role="tabpanel" aria-labelledby="t-flashcards" hidden>
      <div class="fc-wrap">
        <div class="fc-toolbar">
          <button class="btn" id="flipBtn">Flip</button>
          <button class="btn" id="prevBtn">Prev</button>
          <button class="btn" id="nextBtn">Next</button>
          <button class="btn" id="shuffleBtn">Shuffle</button>
          <label style="display:inline-flex; align-items:center; gap:6px" title="Remember card order & position">
            <input type="checkbox" id="remember" />
            Remember progress
          </label>
          <span id="progress" class="pill"></span>
        </div>

        <article class="fc" id="card">
          <div class="fc-inner">
            <div class="fc-side fc-front">
              <div class="fc-q" id="qText"></div>
              <div class="fc-illus" id="illusFront"></div>
              <div class="fc-foot"><span id="pageFront"></span><span>Tap Flip or press Space</span></div>
            </div>
            <div class="fc-side fc-back">
              <div class="fc-a" id="aText"></div>
              <div class="fc-illus" id="illusBack"></div>
              <div class="fc-foot"><span id="pageBack"></span><span>Tap Next or ‚Üê / ‚Üí</span></div>
            </div>
          </div>
        </article>
      </div>
    </section>
  </main>

  <footer class="wrap app-footer">
    <hr style="border:none; height:1px; background:var(--border); margin:18px 0" />
    <div>Single-file app ‚Ä¢ System fonts ‚Ä¢ No external dependencies.</div>
  </footer>

<script>
/* ------------------ DATA ------------------ */
const HANDOUT_HTML = `
  <h1>Ch.14 ‚Äî God Does Destroy: But How? ‚Äî Teaching Handout</h1>
  <div class="chips">
    <span class="chip">Mechanism of judgment</span>
    <span class="chip">Agency & withdrawal</span>
    <span class="chip">Case studies</span>
  </div>

  <div class="section">
    <h2>Thesis</h2>
    <p class="k">Scripture‚Äôs statements that ‚ÄúGod destroys‚Äù are to be read by the method Christ reveals:
    God chiefly ‚Äúdestroys‚Äù by <em>withdrawing</em> His protective presence when persistently rejected,
    allowing consequences, hostile powers, and natural forces to run their course.</p>
  </div>

  <div class="section">
    <h2>Why this matters</h2>
    <ul>
      <li>Protects the consistency of God‚Äôs character and law.</li>
      <li>Explains judgment scenes without ascribing coercive retaliation to God.</li>
      <li>Aligns Old Testament narratives with the cross-centered revelation of divine action.</li>
    </ul>
  </div>

  <div class="section">
    <h2>Key cases (mechanism under the lens)</h2>
    <ul>
      <li><strong>Saul‚Äôs death</strong> ‚Äî culmination of self-chosen alienation; God does not assassinate Saul; consequences are not withheld.</li>
      <li><strong>Jerusalem‚Äôs fall (70 CE)</strong> ‚Äî after persistent refusal, protection is withdrawn; hostile forces devastate.</li>
      <li><strong>Fiery serpents</strong> ‚Äî protective hedge lifts; ordinary dangers afflict the people.</li>
      <li><strong>Job</strong> ‚Äî the hedge is removed by permission; Satan destroys; God sustains life and sets bounds.</li>
    </ul>
  </div>

  <div class="section">
    <h2>Mechanism & language</h2>
    <ul>
      <li><strong>Attribution vs. agency:</strong> Biblical idiom often attributes to God what He <em>permits</em> when He ceases to restrain.</li>
      <li><strong>Governmental consistency:</strong> Coercive force belongs to the enemy‚Äôs method; God governs by truth and love.</li>
      <li><strong>Due process of mercy:</strong> Withdrawal comes only after every avenue of grace is exhausted.</li>
    </ul>
  </div>

  <div class="section">
    <h2>Reading guidelines</h2>
    <ul>
      <li>Let Scripture interpret Scripture, under the light of Christ‚Äôs life and the cross.</li>
      <li>Distinguish descriptive war language from divine causation.</li>
      <li>Trace repeated patterns: warning ‚Üí resistance ‚Üí lifted restraint ‚Üí consequence.</li>
    </ul>
  </div>

  <div class="section">
    <h2>Discussion prompts</h2>
    <ul>
      <li>Where do you see ‚Äúwithdrawal‚Äù or ‚Äúhedge‚Äù motifs in these cases?</li>
      <li>How does this model safeguard enemy-love ethics (Sermon on the Mount)?</li>
    </ul>
  </div>

  <div class="section note">
    <strong>Cross-references (for deeper study)</strong>
    <div class="k">Non-coercion (p. 100) ‚Ä¢ Law = Character (p. 235) ‚Ä¢ Cross as key (p. 286, 296‚Äì298) ‚Ä¢ Mercy before calamity (p. 528‚Äì529) ‚Ä¢ Wrath as consequence (p. 579‚Äì586)</div>
  </div>
`;

const CARDS = [
  { q:"Central question in Ch.14:", a:"If 'God destroys,' how does He do so?", page:"", illus:"[Illustration: ‚ùì method-of-judgment]" },
  { q:"Chapter thesis in one line:", a:"God chiefly 'destroys' by withdrawing protection after persistent refusal, allowing consequences to unfold.", page:"", illus:"[Illustration: üõ°Ô∏è‚¨ÖÔ∏è hedge lifted]" },
  { q:"What protects God‚Äôs character in judgment scenes?", a:"Reading mechanism via Christ‚Äôs method (truth-love, not coercion) and distinguishing permission from direct causation.", page:"", illus:"[Illustration: ‚úùÔ∏è lens]" },
  { q:"Saul case shows what mechanism?", a:"Self-chosen alienation meets unrestrained consequences; God does not assassinate Saul.", page:"", illus:"[Illustration: üß≠ choices ‚Üí outcomes]" },
  { q:"Jerusalem‚Äôs fall illustrates what step sequence?", a:"Warnings ‚Üí resistance ‚Üí full withdrawal ‚Üí hostile forces devastate.", page:"", illus:"[Illustration: üß±‚Üíüö´‚Üí‚¨ÖÔ∏è‚Üíüî•]" },
  { q:"Fiery serpents illustrate what principle?", a:"Protective hedge lifts; ordinary dangers afflict when restraint is removed.", page:"", illus:"[Illustration: üêç hedge drop]" },
  { q:"Job narrative clarifies which agency?", a:"God permits hedge removal; Satan destroys; God sets bounds and sustains.", page:"", illus:"[Illustration: üõ°Ô∏è perimeter limits]" },
  { q:"What is 'attribution language' caution?", a:"Biblical idiom may ascribe to God what He permits when He ceases to restrain.", page:"", illus:"[Illustration: üìù wording vs. cause]" },
  { q:"What ethical guardrail follows from this model?", a:"No ends-justify-means; divine action remains within righteousness.", page:"", illus:"[Illustration: ‚öñÔ∏è law]" },
  { q:"What hermeneutic rule guides hard texts?", a:"Scripture interprets Scripture under Christ and the cross.", page:"", illus:"[Illustration: üìñ‚ÜîÔ∏è‚úùÔ∏è]" },
  { q:"Define 'withdrawal' concisely:", a:"God honoring free refusal by stepping back; restraint lifted; consequences proceed.", page:"", illus:"[Illustration: üïäÔ∏è respect freedom]" },
  { q:"Practical takeaway for readers:", a:"Track actors and mechanisms: who acts (God/adversary/nature/humans) and how (permission vs. direct act).", page:"", illus:"[Illustration: üîé agency map]" }
];

/* ------------------ TAB UI ------------------ */
const tabs = {
  handout: { tabBtn: document.getElementById('t-handout'), panel: document.getElementById('tab-handout') },
  flash:   { tabBtn: document.getElementById('t-flashcards'), panel: document.getElementById('tab-flashcards') }
};
function showTab(which){
  for(const k of Object.keys(tabs)){
    const active = (k === which);
    tabs[k].tabBtn.setAttribute('aria-selected', active ? 'true' : 'false');
    tabs[k].panel.hidden = !active;
  }
}
tabs.handout.tabBtn.addEventListener('click', ()=>showTab('handout'));
tabs.flash.tabBtn.addEventListener('click', ()=>showTab('flash'));

/* Inject handout */
document.getElementById('handout').innerHTML = HANDOUT_HTML;

/* ------------------ COPY & PRINT ------------------ */
document.getElementById('copyBtn').addEventListener('click', async () => {
  const handout = document.querySelector('#tab-handout .handout-root');
  const text = handout.innerText.replace(/\n{3,}/g, '\n\n').trim();
  try{
    await navigator.clipboard.writeText(text);
    toast('Handout copied to clipboard.');
  }catch(e){
    // iOS-safe fallback
    const ta = document.createElement('textarea');
    ta.value = text; ta.style.position='fixed'; ta.style.opacity='0'; document.body.appendChild(ta);
    ta.focus(); ta.select();
    try{ document.execCommand('copy'); toast('Handout copied to clipboard.'); }catch(e2){ toast('Select & copy manually.'); }
    ta.remove();
  }
});
document.getElementById('printBtn').addEventListener('click', () => window.print());
function toast(msg){
  const n = document.createElement('div');
  n.textContent = msg;
  n.style.position='fixed'; n.style.bottom='18px'; n.style.left='50%'; n.style.transform='translateX(-50%)';
  n.style.background='var(--panel)'; n.style.color='var(--ink)'; n.style.border='1px solid var(--border)';
  n.style.padding='10px 14px'; n.style.borderRadius='10px'; n.style.boxShadow='0 6px 20px rgba(0,0,0,.18)';
  document.body.appendChild(n); setTimeout(()=>n.remove(), 1800);
}

/* ------------------ FLASHCARDS ------------------ */
const cardEl = document.getElementById('card');
const qEl = document.getElementById('qText');
const aEl = document.getElementById('aText');
const pageFront = document.getElementById('pageFront');
const pageBack  = document.getElementById('pageBack');
const illusF = document.getElementById('illusFront');
const illusB = document.getElementById('illusBack');
const progress = document.getElementById('progress');
const remember = document.getElementById('remember');

const LS_KEY = 'byg-ch14-fc-v1';
let order = [...CARDS.keys()];
let idx = 0;
let flipped = false;

function loadLS(){
  const saved = localStorage.getItem(LS_KEY);
  if(!saved) return;
  try{
    const {order:o, idx:i, remember:r} = JSON.parse(saved);
    if(Array.isArray(o) && o.length === CARDS.length){ order = o.slice(); }
    if(typeof i === 'number') idx = Math.min(Math.max(0,i), CARDS.length-1);
    remember.checked = !!r;
  }catch{}
}
function saveLS(){
  if(!remember.checked) return;
  localStorage.setItem(LS_KEY, JSON.stringify({order, idx, remember:true}));
}
function clearLS(){ localStorage.removeItem(LS_KEY); }

function currentCard(){ return CARDS[ order[idx] ]; }
function renderCard(){
  const c = currentCard();
  qEl.textContent = c.q;
  aEl.textContent = c.a;
  pageFront.textContent = c.page || '';
  pageBack.textContent  = c.page || '';
  illusF.textContent = c.illus || '';
  illusB.textContent = c.illus || '';
  progress.textContent = `Card ${idx+1} / ${CARDS.length}`;
  cardEl.classList.toggle('flipped', flipped);
  saveLS();
}
function flip(){ flipped = !flipped; renderCard(); }
function next(){ idx = (idx+1) % CARDS.length; flipped = false; renderCard(); }
function prev(){ idx = (idx-1+CARDS.length) % CARDS.length; flipped = false; renderCard(); }
function shuffle(){
  for(let i = order.length - 1; i > 0; i--){
    const j = Math.floor(Math.random() * (i + 1));
    [order[i], order[j]] = [order[j], order[i]];
  }
  idx = 0; flipped = false; renderCard(); toast('Shuffled.');
}

document.getElementById('flipBtn').addEventListener('click', flip);
document.getElementById('nextBtn').addEventListener('click', next);
document.getElementById('prevBtn').addEventListener('click', prev);
document.getElementById('shuffleBtn').addEventListener('click', shuffle);
remember.addEventListener('change', ()=>{ if(!remember.checked) clearLS(); saveLS(); });

// Keyboard shortcuts (active on Flashcards tab)
document.addEventListener('keydown', (e)=>{
  const flashActive = document.getElementById('t-flashcards').getAttribute('aria-selected') === 'true';
  if(!flashActive) return;
  if(e.key === ' '){ e.preventDefault(); flip(); }
  if(e.key === 'ArrowRight'){ next(); }
  if(e.key === 'ArrowLeft'){ prev(); }
});

// Init
loadLS(); renderCard();
</script>
</body>
</html>
