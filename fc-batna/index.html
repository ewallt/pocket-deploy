<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strategic Co-Creation Deck</title>
    <style>
        :root {
            --card-max-width: 480px;
            --card-height: 320px;
            --primary-color: #005A9C;
            --secondary-color: #F1F1F1;
            --text-color: #333;
            --light-text-color: #FFF;
            --border-radius: 12px;
            --shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        * { box-sizing: border-box; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f8f9fa;
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        #app {
            max-width: 900px; /* Wider max-width for desktop layout */
            width: 100%;
            text-align: center;
        }

        .deck-header {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        #app h1 {
            color: var(--primary-color);
            font-size: 1.8rem;
            margin: 0;
        }

        .info-icon {
            background: none; border: none; cursor: pointer; padding: 5px;
            display: inline-flex; align-items: center; justify-content: center; border-radius: 50%;
        }
        .info-icon:hover { background-color: rgba(0,0,0,0.05); }

        .deck-description {
            line-height: 1.6; text-align: left; background-color: var(--secondary-color);
            padding: 1rem; border-radius: var(--border-radius); margin: 0 0 1rem 0;
            overflow: hidden; max-height: 500px; opacity: 1; transition: all 0.4s ease-in-out;
        }
        .deck-description.collapsed {
            max-height: 0; opacity: 0; padding-top: 0; padding-bottom: 0; margin: 0;
        }

        /* --- Main Content Area --- */
        .main-content {
            display: flex;
            flex-direction: column; /* Mobile-first: stack vertically */
            align-items: center;
        }
        
        /* --- Card --- */
        .card-container {
            max-width: var(--card-max-width);
            width: 100%;
            height: var(--card-height);
            perspective: 1200px;
            margin: 0 auto;
        }
        .card {
            width: 100%; height: 100%; position: relative;
            transform-style: preserve-3d; transition: transform 0.6s;
        }
        .card.is-flipped { transform: rotateY(180deg); }
        .card-face {
            position: absolute; width: 100%; height: 100%;
            backface-visibility: hidden; border-radius: var(--border-radius);
            box-shadow: var(--shadow); display: flex; flex-direction: column;
            justify-content: center; align-items: center; padding: 25px;
        }
        .card-front { background-color: white; border: 1px solid #ddd; }
        .card-front-title { font-size: 1.6rem; font-weight: bold; }
        .card-back {
            background-color: var(--secondary-color); transform: rotateY(180deg);
            justify-content: flex-start; text-align: left; overflow-y: auto;
        }
        .card-back p { margin-top: 0; line-height: 1.5; font-size: 0.95rem; }
        .actionable-prompt {
            background-color: #e9ecef; border-left: 4px solid var(--primary-color);
            padding: 10px; font-family: monospace; font-size: 0.85rem;
            white-space: pre-wrap; word-wrap: break-word; margin-top: 15px; border-radius: 4px;
        }
        #copy-prompt-btn {
            display: block; margin: 15px auto 0 auto;
            background-color: #28a745; padding: 10px 15px;
            color: var(--light-text-color); border: none; border-radius: 8px; cursor: pointer;
        }
        #copy-prompt-btn:hover { background-color: #218838; }

        /* --- Controls (Mobile-First) --- */
        .actions-and-nav {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            margin-top: 1rem;
        }

        .main-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
        }

        .main-controls button, .nav-btn {
            background-color: var(--primary-color);
            color: var(--light-text-color);
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.1s;
        }
        .main-controls button:disabled, .nav-btn:disabled {
            background-color: #ccc; cursor: not-allowed;
        }

        .nav-btn { display: none; /* Hide side arrows on mobile by default */ }
        
        .card-progress {
            color: #6c757d;
            font-weight: 500;
            margin-top: 1rem;
        }

        /* --- Desktop Layout via Media Query --- */
        @media (min-width: 768px) {
            .main-content {
                flex-direction: row; /* Desktop: side-by-side */
                align-items: center;
                justify-content: center;
                gap: 1rem;
            }

            .card-container {
                order: 2; /* Card is in the middle */
            }

            .nav-btn {
                display: block; /* Show nav arrows on desktop */
                width: 50px;
                height: 50px;
                border-radius: 50%;
                padding: 0;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            #prev-btn { order: 1; }
            #next-btn { order: 3; }

            .main-controls {
                display: none; /* Hide the mobile control bar on desktop */
            }

            .actions-and-nav {
                order: 4; /* Place flip/progress block after card content */
                margin-top: 1rem;
            }

            #flip-btn { display: block; } /* Ensure flip button is visible */
            .card-progress { margin-top: 0.5rem; }
        }
    </style>
</head>
<body>
    <div id="app"></div>

    <script type="text/javascript">
        // --- DATA SOURCE ---
        const deckData = { "deckId": "batna-v2", "deckTitle": "Defining Your BATNA", "deckDescription": "A step-by-step guide to discovering your Best Alternative To a Negotiated Agreement. Use these cards to prepare for any negotiation and understand when to walk away.", "cards": [ { "cardId": "batna-step-1", "front": { "title": "Step 1: The Goal of Preparation" }, "back": { "explanation": "Most people enter negotiations unprepared. The goal of this process is to give you a strategic advantage by defining your limits and sources of power *before* you talk. The single most important source of power is a strong BATNA.", "actionablePrompt": "Explain the concept of 'leverage' in a negotiation and how preparation directly impacts it." } }, { "cardId": "batna-step-2", "front": { "title": "Step 2: What is a BATNA?" }, "back": { "explanation": "BATNA stands for 'Best Alternative To a Negotiated Agreement.' It is the single best, real, and actionable plan you will execute if the current negotiation fails. It's your plan B.", "actionablePrompt": "I'm about to negotiate [my salary for a new job]. Give me a simple, one-sentence example of what a good BATNA might be in this context." } }, { "cardId": "batna-step-3", "front": { "title": "Step 3: BATNA vs. Bottom Line" }, "back": { "explanation": "A 'bottom line' is a rigid, often arbitrary number (e.g., 'I won't accept less than $50,000'). A BATNA is a flexible, real-world alternative (e.g., 'I will accept a competing job offer for $48,000 with better benefits'). A BATNA is much more powerful.", "actionablePrompt": "Compare and contrast a 'bottom line' with a 'BATNA' using the scenario of buying a used car. Show why having a BATNA is more strategically effective." } }, { "cardId": "batna-step-4", "front": { "title": "Step 4: The Brainstorming Mindset" }, "back": { "explanation": "The first phase of finding your BATNA is creative, not critical. Your goal is to generate a long list of *any possible thing* you could do if the deal fails. Do not judge or filter your ideas yet. Quantity over quality is the rule.", "actionablePrompt": "I need to get into a creative mindset for brainstorming. Give me three short warm-up exercises to help me think more expansively about my options." } }, { "cardId": "batna-step-5", "front": { "title": "Step 5: Brainstorm Obvious Alternatives" }, "back": { "explanation": "Start by listing the most straightforward and obvious alternatives. If you're negotiating a job offer, this might include things like 'stay at my current job' or 'apply to other similar companies.' List at least 3-4.", "actionablePrompt": "My negotiation is about [describe your situation]. Let's brainstorm the 3-4 most obvious and straightforward alternatives if this negotiation fails." } }, { "cardId": "batna-step-6", "front": { "title": "Step 6: Brainstorm Creative Alternatives" }, "back": { "explanation": "Now, think outside the box. What could you do that isn't obvious? Could you go freelance? Go back to school? Move to a new city? Combine two weaker options into a stronger one? Push for at least 5 creative ideas.", "actionablePrompt": "Continuing my brainstorming for [describe your situation], let's think of 5 creative or unconventional alternatives. For example, what if I changed industries, started a small business, or took a sabbatical?" } }, { "cardId": "batna-step-7", "front": { "title": "Step 7: Consolidate Your List" }, "back": { "explanation": "Look at your complete list of alternatives (both obvious and creative). Group similar ideas together and rephrase them for clarity. Your goal is to have a clean, comprehensive list of unique options to choose from.", "actionablePrompt": "Here is my brainstormed list of alternatives: [Paste your list here]. Help me clean up this list by grouping similar ideas and rephrasing them for clarity." } }, { "cardId": "batna-step-8", "front": { "title": "Step 8: Select Your Top 3 Contenders" }, "back": { "explanation": "From your consolidated list, choose the 2-3 alternatives that seem the most promising. Don't overthink it; pick the ones that feel the most realistic, powerful, or appealing at first glance. These are the candidates you will develop further.", "actionablePrompt": "Based on my list of alternatives, help me choose the top 3 contenders to develop into full plans. Ask me questions to help clarify which ones have the most potential." } }, { "cardId": "batna-step-9", "front": { "title": "Step 9: Develop Alternative #1" }, "back": { "explanation": "Take your first contender and turn it from a one-line idea into a mini-plan. What are the first 3-5 concrete steps you would need to take to make it a reality? Who would you need to contact? What resources would you need?", "actionablePrompt": "My first promising alternative is [State Alternative #1]. Let's develop this. What are the first 5 concrete actions I would need to take to make this a reality, starting tomorrow?" } }, { "cardId": "batna-step-10", "front": { "title": "Step 10: Develop Alternative #2" }, "back": { "explanation": "Now, do the same for your second contender. Be just as thorough. The more realistic your alternative plans are, the more confident and powerful you will be in the negotiation.", "actionablePrompt": "My second promising alternative is [State Alternative #2]. Let's develop this. What are the first 5 concrete actions I would need to take to make this a reality, starting tomorrow?" } }, { "cardId": "batna-step-11", "front": { "title": "Step 11: Develop Alternative #3" }, "back": { "explanation": "Finally, flesh out your third promising alternative. By the end of this step, you should have three plausible, well-defined backup plans.", "actionablePrompt": "My third promising alternative is [State Alternative #3]. Let's develop this. What are the first 5 concrete actions I would need to take to make this a reality, starting tomorrow?" } }, { "cardId": "batna-step-12", "front": { "title": "Step 12: The Evaluation Framework" }, "back": { "explanation": "Now it's time to compare your developed plans. You need to evaluate them based on consistent criteria. Key criteria often include: financial outcome, timeline, impact on quality of life, stress level, and alignment with long-term goals.", "actionablePrompt": "Create an evaluation matrix for me. The rows should be my three developed alternatives. The columns should be: 'Estimated Financial Value ($)', 'Time to Implement (Days)', 'Impact on Stress (1-10)', and 'Alignment with Goals (1-10)'." } }, { "cardId": "batna-step-13", "front": { "title": "Step 13: Analyze Each Alternative" }, "back": { "explanation": "Go through your evaluation matrix and fill it out as objectively as possible for each of your three developed plans. This process forces you to convert vague feelings into concrete comparisons.", "actionablePrompt": "Let's fill out the evaluation matrix. I will provide my developed alternatives. For each one, ask me questions to help me assign objective scores for financial value, time, stress, and goal alignment." } }, { "cardId": "batna-step-14", "front": { "title": "Step 14: Compare and Contrast" }, "back": { "explanation": "Look at your completed matrix. Which alternative has the highest overall value to you? It might not be the one with the highest financial value. The best option is the one that provides the most balanced and desirable outcome *for you*.", "actionablePrompt": "Here is my completed evaluation matrix: [Paste the filled-out matrix]. Analyze this data and give me a summary of the pros and cons of each option, highlighting the one that appears to be the strongest overall." } }, { "cardId": "batna-step-15", "front": { "title": "Step 15: Select Your BATNA" }, "back": { "explanation": "Based on your analysis, formally select the single best alternative. This is your BATNA. Write it down in a clear, single sentence. This is the course of action you are now committed to if the negotiation fails.", "actionablePrompt": "Based on our analysis, I have chosen my BATNA. Help me phrase it as a clear, confident, and empowering single-sentence statement that I can remember during my negotiation." } }, { "cardId": "batna-step-16", "front": { "title": "Step 16: Strengthen Your BATNA" }, "back": { "explanation": "Can you improve your BATNA even more before the negotiation begins? If your BATNA is another job offer, can you get them to increase it? If it's to start freelancing, can you line up your first client? A stronger BATNA means more power.", "actionablePrompt": "My BATNA is: [State your BATNA sentence]. Let's brainstorm two things I could do in the next 48 hours to make this BATNA even stronger or more secure." } } ] };

        // --- APPLICATION LOGIC ---
        document.addEventListener('DOMContentLoaded', () => {
            const app = document.getElementById('app');
            let currentCardIndex = 0;

            function render() {
                app.innerHTML = '';
                document.title = deckData.deckTitle;

                // --- Header (Identical) ---
                const header = document.createElement('header');
                const titleContainer = document.createElement('div');
                titleContainer.className = 'deck-header';
                const title = document.createElement('h1');
                title.textContent = deckData.deckTitle;
                const infoBtn = document.createElement('button');
                infoBtn.className = 'info-icon';
                infoBtn.setAttribute('aria-label', 'Show deck description');
                infoBtn.innerHTML = `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z" fill="#888"/></svg>`;
                titleContainer.appendChild(title);
                titleContainer.appendChild(infoBtn);
                header.appendChild(titleContainer);
                const description = document.createElement('p');
                description.className = 'deck-description collapsed';
                description.textContent = deckData.deckDescription;
                header.appendChild(description);
                app.appendChild(header);

                // --- Main Content (Card + side nav) ---
                const mainContent = document.createElement('div');
                mainContent.className = 'main-content';

                // --- Card (Identical) ---
                const cardData = deckData.cards[currentCardIndex];
                const cardContainer = document.createElement('div');
                cardContainer.className = 'card-container';
                const card = document.createElement('div');
                card.className = 'card';
                const cardFront = document.createElement('div');
                cardFront.className = 'card-face card-front';
                const frontTitle = document.createElement('div');
                frontTitle.className = 'card-front-title';
                frontTitle.textContent = cardData.front.title;
                cardFront.appendChild(frontTitle);
                const cardBack = document.createElement('div');
                cardBack.className = 'card-face card-back';
                const backExplanation = document.createElement('p');
                backExplanation.textContent = cardData.back.explanation;
                const backPrompt = document.createElement('pre');
                backPrompt.className = 'actionable-prompt';
                backPrompt.textContent = cardData.back.actionablePrompt;
                const copyBtn = document.createElement('button');
                copyBtn.id = 'copy-prompt-btn';
                copyBtn.textContent = 'Copy Prompt';
                cardBack.appendChild(backExplanation);
                cardBack.appendChild(backPrompt);
                cardBack.appendChild(copyBtn);
                card.appendChild(cardFront);
                card.appendChild(cardBack);
                cardContainer.appendChild(card);
                
                // --- Controls (New combined structure) ---
                const prevBtn = document.createElement('button');
                prevBtn.id = 'prev-btn';
                prevBtn.className = 'nav-btn';
                prevBtn.innerHTML = `<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>`;
                
                const nextBtn = document.createElement('button');
                nextBtn.id = 'next-btn';
                nextBtn.className = 'nav-btn';
                nextBtn.innerHTML = `<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>`;

                mainContent.appendChild(prevBtn);
                mainContent.appendChild(cardContainer);
                mainContent.appendChild(nextBtn);
                
                // --- Mobile Controls and Actions ---
                const actionsAndNav = document.createElement('div');
                actionsAndNav.className = 'actions-and-nav';

                const mobileControls = document.createElement('div');
                mobileControls.className = 'main-controls';
                // Clone nav buttons for mobile layout
                const mobilePrevBtn = prevBtn.cloneNode(true);
                mobilePrevBtn.className = ''; // Reset class
                const mobileNextBtn = nextBtn.cloneNode(true);
                mobileNextBtn.className = ''; // Reset class
                
                const flipBtn = document.createElement('button');
                flipBtn.id = 'flip-btn';
                flipBtn.textContent = 'Flip';

                mobileControls.appendChild(mobilePrevBtn);
                mobileControls.appendChild(flipBtn.cloneNode(true)); // Use a clone for mobile
                mobileControls.appendChild(mobileNextBtn);

                const progress = document.createElement('p');
                progress.className = 'card-progress';
                progress.textContent = `Card ${currentCardIndex + 1} of ${deckData.cards.length}`;

                actionsAndNav.appendChild(mobileControls); // Mobile-first: add mobile bar
                actionsAndNav.appendChild(flipBtn); // Add flip button for desktop layout
                actionsAndNav.appendChild(progress);

                app.appendChild(mainContent);
                app.appendChild(actionsAndNav);

                // --- Event Listeners ---
                const allPrevBtns = [prevBtn, mobilePrevBtn];
                const allNextBtns = [nextBtn, mobileNextBtn];
                const allFlipBtns = document.querySelectorAll('#flip-btn');

                infoBtn.addEventListener('click', () => description.classList.toggle('collapsed'));
                copyBtn.addEventListener('click', () => { /* copy logic */ });

                allFlipBtns.forEach(btn => btn.addEventListener('click', () => card.classList.toggle('is-flipped')));
                
                function goToPrev() { if (currentCardIndex > 0) { currentCardIndex--; render(); } }
                function goToNext() { if (currentCardIndex < deckData.cards.length - 1) { currentCardIndex++; render(); } }

                allPrevBtns.forEach(btn => btn.addEventListener('click', goToPrev));
                allNextBtns.forEach(btn => btn.addEventListener('click', goToNext));

                // Update button states
                allPrevBtns.forEach(btn => btn.disabled = currentCardIndex === 0);
                allNextBtns.forEach(btn => btn.disabled = currentCardIndex === deckData.cards.length - 1);
            }
            render();
        });
    </script>
</body>
</html>
