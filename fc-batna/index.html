<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strategic Co-Creation Deck</title>
    <style>
        /* --- Basic Setup --- */
        :root {
            --card-width: 450px;
            --card-height: 300px;
            --primary-color: #005A9C;
            --secondary-color: #F1F1F1;
            --text-color: #333;
            --light-text-color: #FFF;
            --border-radius: 12px;
            --shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f8f9fa;
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        /* --- Main Layout --- */
        #app {
            max-width: 600px;
            width: 100%;
            text-align: center;
        }

        #app h1 {
            color: var(--primary-color);
        }

        #app .deck-description {
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        /* --- Card Flip Animation --- */
        .card-container {
            width: var(--card-width);
            height: var(--card-height);
            perspective: 1000px;
            margin: 0 auto;
        }

        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }

        .card.is-flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
        }

        .card-front {
            background-color: white;
            border: 1px solid #ddd;
        }

        .card-front-title {
            font-size: 1.75rem;
            font-weight: bold;
        }

        .card-back {
            background-color: var(--secondary-color);
            transform: rotateY(180deg);
            justify-content: flex-start;
            text-align: left;
            overflow-y: auto;
        }
        
        .card-back p {
            margin-top: 0;
            line-height: 1.5;
        }

        .actionable-prompt {
            background-color: #e9ecef;
            border-left: 4px solid var(--primary-color);
            padding: 10px;
            font-family: monospace;
            font-size: 0.9rem;
            white-space: pre-wrap;
            word-wrap: break-word;
            margin-top: 15px;
            border-radius: 4px;
        }

        /* --- Controls --- */
        .controls {
            margin-top: 2rem;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
        }

        .controls button {
            background-color: var(--primary-color);
            color: var(--light-text-color);
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.1s;
        }

        .controls button:hover {
            background-color: #004170;
        }

        .controls button:active {
            transform: scale(0.98);
        }
        
        .controls button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
        
        #copy-prompt-btn {
            display: block;
            margin: 15px auto 0 auto;
            background-color: #28a745;
        }
        
        #copy-prompt-btn:hover {
            background-color: #218838;
        }

        .card-progress {
            color: #6c757d;
            font-weight: 500;
            width: 100px;
        }

    </style>
</head>
<body>

    <div id="app">
        </div>

    <script type="text/javascript">
        // --- DATA SOURCE (The only part to change for a new deck) ---
        const deckData = {
          "deckId": "batna-v1",
          "deckTitle": "Defining Your BATNA",
          "deckDescription": "A step-by-step guide to discovering your Best Alternative To a Negotiated Agreement. Use these cards to prepare for any negotiation and understand when to walk away.",
          "cards": [
            {
              "cardId": "batna-step-1",
              "front": {
                "title": "Step 1: Understand the Concept"
              },
              "back": {
                "explanation": "BATNA stands for 'Best Alternative To a Negotiated Agreement.' It's not your bottom line or your ideal outcome; it is the single best course of action you will take if the current negotiation fails completely. Knowing your BATNA gives you the power to negotiate confidently and protects you from accepting a bad deal.",
                "actionablePrompt": "I am new to the concept of BATNA. Can you explain it to me in a few different ways, perhaps with an everyday example, to make sure I fully understand it before I start defining my own?"
              }
            },
            {
              "cardId": "batna-step-2",
              "front": {
                "title": "Step 2: Brainstorm Your Alternatives"
              },
              "back": {
                "explanation": "The first step in finding your BATNA is to brainstorm every possible alternative if the deal falls through. Don't filter or judge the ideas yet. The goal is to create a comprehensive list of potential actions, no matter how unconventional they may seem.",
                "actionablePrompt": "I am in a negotiation for [describe your situation, e.g., 'a new job salary', 'buying a used car']. If this negotiation fails completely, help me brainstorm a list of at least 10 different alternative actions I could take. Let's not judge the quality of the ideas yet, just list them."
              }
            },
            {
              "cardId": "batna-step-3",
              "front": {
                "title": "Step 3: Develop the Most Promising Ideas"
              },
              "back": {
                "explanation": "Look at your brainstormed list and select the two or three most promising alternatives. Now, flesh them out. What would each one realistically involve? What are the immediate next steps you would need to take to make them happen? Turn them from vague ideas into plausible plans.",
                "actionablePrompt": "From the list of alternatives we brainstormed, I think the most promising ones are [list 2-3 of your best alternatives]. For each one, help me think through the realistic steps I would need to take to turn it from an idea into a real plan."
              }
            },
            {
              "cardId": "batna-step-4",
              "front": {
                "title": "Step 4: Evaluate Your Alternatives"
              },
              "back": {
                "explanation": "Now, analyze your developed plans. What is the true value of each one? Consider all factors: financial outcomes, time commitment, stress, impact on relationships, and long-term happiness. Try to assign a rough overall value to each alternative to make them comparable.",
                "actionablePrompt": "I have developed my most promising alternatives. Now, help me create a table to evaluate them. The columns should be: 'Alternative', 'Potential Financial Outcome', 'Time & Effort Required', 'Pros', and 'Cons'. Let's analyze each one objectively."
              }
            },
            {
              "cardId": "batna-step-5",
              "front": {
                "title": "Step 5: Select Your Single Best Alternative"
              },
              "back": {
                "explanation": "Compare the evaluated alternatives. The one that offers you the most overall value is your BATNA. This is your walk-away point. You should only accept a deal in your negotiation if it is better than this specific, real, and actionable alternative.",
                "actionablePrompt": "Based on our evaluation, help me write a clear, one-sentence summary of my BATNA. It should be a confident statement of the action I will take if the negotiation fails."
              }
            }
          ]
        };

        // --- APPLICATION LOGIC ---
        document.addEventListener('DOMContentLoaded', () => {
            const app = document.getElementById('app');
            let currentCardIndex = 0;

            function render() {
                // Clear the app container
                app.innerHTML = '';

                // Set browser tab title
                document.title = deckData.deckTitle;

                // --- Create Header ---
                const header = document.createElement('header');
                const title = document.createElement('h1');
                title.textContent = deckData.deckTitle;
                const description = document.createElement('p');
                description.className = 'deck-description';
                description.textContent = deckData.deckDescription;
                header.appendChild(title);
                header.appendChild(description);
                app.appendChild(header);

                // --- Create Card ---
                const cardData = deckData.cards[currentCardIndex];
                const cardContainer = document.createElement('div');
                cardContainer.className = 'card-container';

                const card = document.createElement('div');
                card.className = 'card';
                card.id = 'card';

                // Card Front
                const cardFront = document.createElement('div');
                cardFront.className = 'card-face card-front';
                const frontTitle = document.createElement('div');
                frontTitle.className = 'card-front-title';
                frontTitle.textContent = cardData.front.title;
                cardFront.appendChild(frontTitle);

                // Card Back
                const cardBack = document.createElement('div');
                cardBack.className = 'card-face card-back';
                const backExplanation = document.createElement('p');
                backExplanation.textContent = cardData.back.explanation;
                const backPrompt = document.createElement('pre');
                backPrompt.className = 'actionable-prompt';
                backPrompt.textContent = cardData.back.actionablePrompt;
                const copyBtn = document.createElement('button');
                copyBtn.id = 'copy-prompt-btn';
                copyBtn.textContent = 'Copy Prompt';
                
                cardBack.appendChild(backExplanation);
                cardBack.appendChild(backPrompt);
                cardBack.appendChild(copyBtn);

                card.appendChild(cardFront);
                card.appendChild(cardBack);
                cardContainer.appendChild(card);
                app.appendChild(cardContainer);

                // --- Create Controls ---
                const controls = document.createElement('div');
                controls.className = 'controls';

                const prevBtn = document.createElement('button');
                prevBtn.id = 'prev-btn';
                prevBtn.textContent = 'Previous';

                const flipBtn = document.createElement('button');
                flipBtn.id = 'flip-btn';
                flipBtn.textContent = 'Flip';

                const nextBtn = document.createElement('button');
                nextBtn.id = 'next-btn';
                nextBtn.textContent = 'Next';

                const progress = document.createElement('p');
                progress.className = 'card-progress';
                progress.textContent = `Card ${currentCardIndex + 1} of ${deckData.cards.length}`;

                controls.appendChild(prevBtn);
                controls.appendChild(flipBtn);
                controls.appendChild(progress);
                controls.appendChild(nextBtn);
                app.appendChild(controls);

                // --- Add Event Listeners & Logic ---
                flipBtn.addEventListener('click', () => {
                    card.classList.toggle('is-flipped');
                });
                
                copyBtn.addEventListener('click', () => {
                   navigator.clipboard.writeText(cardData.back.actionablePrompt).then(() => {
                       copyBtn.textContent = 'Copied!';
                       setTimeout(() => { copyBtn.textContent = 'Copy Prompt'; }, 2000);
                   });
                });

                prevBtn.addEventListener('click', () => {
                    if (currentCardIndex > 0) {
                        currentCardIndex--;
                        render();
                    }
                });

                nextBtn.addEventListener('click', () => {
                    if (currentCardIndex < deckData.cards.length - 1) {
                        currentCardIndex++;
                        render();
                    }
                });
                
                // Update button states
                prevBtn.disabled = currentCardIndex === 0;
                nextBtn.disabled = currentCardIndex === deckData.cards.length - 1;
            }

            // Initial Render
            render();
        });
    </script>
</body>
</html>
