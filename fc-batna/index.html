<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strategic Co-Creation Deck</title>
    <style>
        /* --- Basic Setup --- */
        :root {
            --card-width: 450px;
            --card-height: 300px;
            --primary-color: #005A9C;
            --secondary-color: #F1F1F1;
            --text-color: #333;
            --light-text-color: #FFF;
            --border-radius: 12px;
            --shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f8f9fa;
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        /* --- Main Layout --- */
        #app {
            max-width: 600px;
            width: 100%;
            text-align: center;
        }

        #app h1 {
            color: var(--primary-color);
        }

        #app .deck-description {
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        /* --- Card Flip Animation --- */
        .card-container {
            width: var(--card-width);
            height: var(--card-height);
            perspective: 1000px;
            margin: 0 auto;
        }

        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }

        .card.is-flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
        }

        .card-front {
            background-color: white;
            border: 1px solid #ddd;
        }

        .card-front-title {
            font-size: 1.75rem;
            font-weight: bold;
        }

        .card-back {
            background-color: var(--secondary-color);
            transform: rotateY(180deg);
            justify-content: flex-start;
            text-align: left;
            overflow-y: auto;
        }
        
        .card-back p {
            margin-top: 0;
            line-height: 1.5;
        }

        .actionable-prompt {
            background-color: #e9ecef;
            border-left: 4px solid var(--primary-color);
            padding: 10px;
            font-family: monospace;
            font-size: 0.9rem;
            white-space: pre-wrap;
            word-wrap: break-word;
            margin-top: 15px;
            border-radius: 4px;
        }

        /* --- Controls --- */
        .controls {
            margin-top: 2rem;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
        }

        .controls button {
            background-color: var(--primary-color);
            color: var(--light-text-color);
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.1s;
        }

        .controls button:hover {
            background-color: #004170;
        }

        .controls button:active {
            transform: scale(0.98);
        }
        
        .controls button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
        
        #copy-prompt-btn {
            display: block;
            margin: 15px auto 0 auto;
            background-color: #28a745;
        }
        
        #copy-prompt-btn:hover {
            background-color: #218838;
        }

        .card-progress {
            color: #6c757d;
            font-weight: 500;
            width: 100px;
        }

    </style>
</head>
<body>

    <div id="app">
        </div>

    <script type="text/javascript">
        // --- DATA SOURCE (The only part to change for a new deck) ---
        const deckData = {
            "deckId": "batna-theory-v1",
            "deckTitle": "The Theory of BATNA",
            "deckDescription": "An educational guide to the concept of the Best Alternative To a Negotiated Agreement. Flip through these cards to understand what BATNA is, its origins, and why it's the most important source of power in any negotiation.",
            "cards": [
                {
                    "cardId": "batna-theory-1",
                    "front": {
                        "title": "What is a BATNA?"
                    },
                    "back": {
                        "explanation": "BATNA stands for 'Best Alternative To a Negotiated Agreement.' It is the single most advantageous course of action a party can take if negotiations fail and an agreement cannot be reached. It's not a 'bottom line' or a wish; it's a real, actionable Plan B that you have developed *before* you enter the negotiation.",
                        "actionablePrompt": "Explain the difference between a BATNA and a 'bottom line' in a negotiation. What are the risks of having one but not the other?"
                    }
                },
                {
                    "cardId": "batna-theory-2",
                    "front": {
                        "title": "Where Did BATNA Come From?"
                    },
                    "back": {
                        "explanation": "The concept was developed by negotiation researchers Roger Fisher and William Ury of the Harvard Program on Negotiation. It was introduced in their seminal 1981 book, 'Getting to Yes: Negotiating Agreement Without Giving In.' It revolutionized negotiation theory by shifting the focus from positional bargaining to interest-based problem-solving.",
                        "actionablePrompt": "Tell me more about the book 'Getting to Yes.' What were its other key principles for negotiation besides the BATNA?"
                    }
                },
                {
                    "cardId": "batna-theory-3",
                    "front": {
                        "title": "How Does BATNA Create Power?"
                    },
                    "back": {
                        "explanation": "The power in a negotiation doesn't come from aggression or stubbornness; it comes from your freedom to walk away. Your BATNA provides this freedom. If you have a strong, viable alternative, you are not desperate to make a deal. This allows you to negotiate patiently and reject offers that are not in your best interest. The party with the stronger BATNA is in the more powerful position.",
                        "actionablePrompt": "Can you give me a hypothetical scenario where one party has a strong BATNA and the other has a weak one? Show how the negotiation might play out."
                    }
                },
                {
                    "cardId": "batna-theory-4",
                    "front": {
                        "title": "Example 1: The Job Offer"
                    },
                    "back": {
                        "explanation": "Imagine you are offered a job for $75,000. Without a BATNA, you have to decide if that number is 'good enough' in a vacuum. But if you have already secured another firm job offer for $72,000 with better benefits (your BATNA), you can clearly see that the $75k offer is only marginally better. This gives you the confidence to negotiate for a higher salary, knowing you have a great alternative if they say no.",
                        "actionablePrompt": "Using the job offer example, what if my BATNA isn't another job, but is instead the option to start my own freelance business? How would I evaluate that against a salaried job offer?"
                    }
                },
                {
                    "cardId": "batna-theory-5",
                    "front": {
                        "title": "Example 2: Selling a House"
                    },
                    "back": {
                        "explanation": "You want to sell your house for at least $400,000. An interested buyer offers $380,000. If you have no other options, you might feel pressured to accept. However, if you have a strong BATNA—for example, a reliable tenant ready to sign a one-year lease for a price that covers your mortgage and expenses—you can calmly reject the $380,000 offer because you know your alternative is better than their low offer.",
                        "actionablePrompt": "Give me an example of a BATNA in a non-financial negotiation, such as deciding on a vacation destination with a partner or choosing a project approach with a colleague at work."
                    }
                },
                {
                    "cardId": "batna-theory-6",
                    "front": {
                        "title": "Key Takeaway: A Shield, Not a Sword"
                    },
                    "back": {
                        "explanation": "The best use of a BATNA is not as a threat ('If you don't give me X, I have another offer!'). It is best used as a shield that protects you from accepting a bad deal. It is your private benchmark for what makes a proposed agreement acceptable. Knowing you have a good alternative gives you the quiet confidence to negotiate effectively and rationally.",
                        "actionablePrompt": "Now that I understand the theory, I'd like to go back to the practical side. Can you ask me the first question to help me start defining my own BATNA for a specific situation I have in mind?"
                    }
                }
            ]
        };

        // --- APPLICATION LOGIC ---
        document.addEventListener('DOMContentLoaded', () => {
            const app = document.getElementById('app');
            let currentCardIndex = 0;

            function render() {
                // Clear the app container
                app.innerHTML = '';

                // Set browser tab title
                document.title = deckData.deckTitle;

                // --- Create Header ---
                const header = document.createElement('header');
                const title = document.createElement('h1');
                title.textContent = deckData.deckTitle;
                const description = document.createElement('p');
                description.className = 'deck-description';
                description.textContent = deckData.deckDescription;
                header.appendChild(title);
                header.appendChild(description);
                app.appendChild(header);

                // --- Create Card ---
                const cardData = deckData.cards[currentCardIndex];
                const cardContainer = document.createElement('div');
                cardContainer.className = 'card-container';

                const card = document.createElement('div');
                card.className = 'card';
                card.id = 'card';

                // Card Front
                const cardFront = document.createElement('div');
                cardFront.className = 'card-face card-front';
                const frontTitle = document.createElement('div');
                frontTitle.className = 'card-front-title';
                frontTitle.textContent = cardData.front.title;
                cardFront.appendChild(frontTitle);

                // Card Back
                const cardBack = document.createElement('div');
                cardBack.className = 'card-face card-back';
                const backExplanation = document.createElement('p');
                backExplanation.textContent = cardData.back.explanation;
                const backPrompt = document.createElement('pre');
                backPrompt.className = 'actionable-prompt';
                backPrompt.textContent = cardData.back.actionablePrompt;
                const copyBtn = document.createElement('button');
                copyBtn.id = 'copy-prompt-btn';
                copyBtn.textContent = 'Copy Prompt';
                
                cardBack.appendChild(backExplanation);
                cardBack.appendChild(backPrompt);
                cardBack.appendChild(copyBtn);

                card.appendChild(cardFront);
                card.appendChild(cardBack);
                cardContainer.appendChild(card);
                app.appendChild(cardContainer);

                // --- Create Controls ---
                const controls = document.createElement('div');
                controls.className = 'controls';

                const prevBtn = document.createElement('button');
                prevBtn.id = 'prev-btn';
                prevBtn.textContent = 'Previous';

                const flipBtn = document.createElement('button');
                flipBtn.id = 'flip-btn';
                flipBtn.textContent = 'Flip';

                const nextBtn = document.createElement('button');
                nextBtn.id = 'next-btn';
                nextBtn.textContent = 'Next';

                const progress = document.createElement('p');
                progress.className = 'card-progress';
                progress.textContent = `Card ${currentCardIndex + 1} of ${deckData.cards.length}`;

                controls.appendChild(prevBtn);
                controls.appendChild(flipBtn);
                controls.appendChild(progress);
                controls.appendChild(nextBtn);
                app.appendChild(controls);

                // --- Add Event Listeners & Logic ---
                flipBtn.addEventListener('click', () => {
                    card.classList.toggle('is-flipped');
                });
                
                copyBtn.addEventListener('click', () => {
                   navigator.clipboard.writeText(cardData.back.actionablePrompt).then(() => {
                       copyBtn.textContent = 'Copied!';
                       setTimeout(() => { copyBtn.textContent = 'Copy Prompt'; }, 2000);
                   });
                });

                prevBtn.addEventListener('click', () => {
                    if (currentCardIndex > 0) {
                        currentCardIndex--;
                        render();
                    }
                });

                nextBtn.addEventListener('click', () => {
                    if (currentCardIndex < deckData.cards.length - 1) {
                        currentCardIndex++;
                        render();
                    }
                });
                
                // Update button states
                prevBtn.disabled = currentCardIndex === 0;
                nextBtn.disabled = currentCardIndex === deckData.cards.length - 1;
            }

            // Initial Render
            render();
        });
    </script>
</body>
</html>
