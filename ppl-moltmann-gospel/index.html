<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Report SPA — Template (Course-Theme Palette + Navy)</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
/* ========= Base tokens (default = "Newspaper") ========= */
:root{
  /* Newspaper (light, neutral) */
  --bg: #fdfdf8;                   /* from --bg-gradient */
  --ink: #1c1c1c;                  /* --text */
  --muted: #3f3f3f;                /* derived */
  --card: #f1f1eb;                 /* --nav-bg */
  --line: #dcdcd3;                 /* --nav-border */
  --acc1: #8c1c13;                 /* --accent-text (headings) */
  --acc2: #8c1c13;                 /* keep cohesive */
}
/* ========= Emerald Paper (light) ========= */
.theme-emerald-paper{
  --bg: #f7fbf9;
  --ink: #1e2b28;
  --muted: #2b423d;
  --card: #e7f3ef;
  --line: #86c8ba;
  --acc1: #0f7f6d;  /* headings / accents */
  --acc2: #0f7f6d;
}
/* ========= Emerald/Gold (dark, adjusted for tabs) ========= */
.theme-emerald-gold{
  --bg: linear-gradient(135deg,#022c22 0%,#064e3b 60%,#065f46 100%);
  --ink: #ecfdf5;             /* emerald-50 */
  --muted: #a7f3d0;           /* emerald-200 */
  --card: #064e3b;
  --line: #0d9488;            /* emerald-600 edge */
  --acc1: #f0c475;            /* gold heading */
  --acc2: #d4a24c;
}
.theme-emerald-gold .tab-btn[aria-selected="true"]{
  background:#065f46; 
  color:#ecfdf5; 
  border-color:#0d9488;
  box-shadow: inset 0 0 0 1px #f0c475;
}
.theme-emerald-gold .tab-btn:focus-visible{
  outline:2px solid #f0c475;
  outline-offset:2px;
}
/* ========= Navy (dark, Threaded-Reader style) — keep as-is ========= */
.theme-navy{
  --bg:  linear-gradient(135deg,#0a0a23 0%, #141433 50%, #0f172a 100%);
  --ink:   #e5e7eb;   /* slate-200 */
  --muted: #94a3b8;   /* slate-400 */
  --card:  #0f172a;   /* slate-900-ish */
  --line:  #1f2937;   /* slate-800 */
  --acc1:  #cbd5e1;   /* neutral */
  --acc2:  #94a3b8;
}
/* Navy: keep blue very sparse */
.theme-navy .section-title{ color: var(--ink); }
.theme-navy a{ color:#60a5fa; }                 /* sky-400 */
.theme-navy a:hover{ color:#93c5fd; }           /* sky-300 */
.theme-navy .tab-btn[aria-selected="true"]{
  background:#1f2937; color:#e5e7eb; border-color:#334155;
  box-shadow: inset 0 0 0 1px #3b82f6;
}
.theme-navy .tab-btn:focus-visible{ outline:2px solid #60a5fa; outline-offset:2px; }
/* ========= Shell styling (unchanged) ========= */
html,body{height:100%}
body{background:var(--bg);color:var(--ink);font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Inter,Arial}
.card{background:var(--card);border:1px solid var(--line);border-radius:.75rem}
.tab-btn{border:1px solid var(--line);background:var(--card);border-radius:.5rem}
.tab-btn[aria-selected="true"]{
  background:linear-gradient(45deg,var(--acc1),var(--acc2));color:white;border-color:transparent
}
a{color: var(--acc2)}
.section-title{color: var(--acc1)}
.theme-cyber-blue .tab-button.tab-active {
  background-color: #1f2937;
  color: #e5e7eb;
  border-bottom-color: #93c5fd;
  box-shadow: inset 0 0 0 1px #3b82f6;
}
.theme-cyber-blue a { color: #60a5fa; }
.theme-cyber-blue a:hover { color: #93c5fd; }
/* Navy (Dark) prose link treatment, headings stay neutral */
.theme-cyber-blue .prose a { color:#60a5fa; text-decoration-color:#60a5fa; }
.theme-cyber-blue .prose a:hover { color:#93c5fd; text-decoration-color:#93c5fd; }

</style>
</head>
<body class="min-h-screen flex flex-col">
<header>
  <div class="px-6 py-6 border-b" style="border-color:var(--line);background:var(--card)">
    <h1 id="appTitle" class="text-2xl font-bold tracking-tight">Loading…</h1>
    <p id="appSubtitle" class="mt-1 text-sm" style="color:var(--muted)"></p>
  </div>
  <div class="px-6 py-3 flex items-center gap-3" style="background:color-mix(in oklab, var(--card) 75%, transparent);border-bottom:1px solid var(--line)">
    <div class="flex items-center gap-2">
      <label for="theme" class="text-sm" style="color:var(--muted)">Theme</label>
      <select id="theme" class="text-sm px-2 py-1 rounded border" style="background:var(--card);color:var(--ink);border-color:var(--line)">
        <option value="newspaper">Newspaper (Light)</option>
        <option value="navy">Navy (Dark)</option>
        <option value="emerald-paper">Emerald Paper (Light)</option>
        <option value="emerald-gold">Emerald/Gold (Dark)</option>
      </select>
    </div>
  </div>
  <nav class="px-6 py-3 flex flex-wrap gap-2" role="tablist" aria-label="Primary">
    <button class="tab-btn px-3 py-2 text-sm" data-tab="overview"  aria-selected="true">Overview</button>
    <button class="tab-btn px-3 py-2 text-sm" data-tab="concepts"  aria-selected="false">Concepts</button>
    <button class="tab-btn px-3 py-2 text-sm" data-tab="data"      aria-selected="false">Evidence / Data</button>
    <button class="tab-btn px-3 py-2 text-sm" data-tab="timeline"  aria-selected="false">Timeline</button>
    <button class="tab-btn px-3 py-2 text-sm" data-tab="critiques" aria-selected="false">Critiques</button>
    <button class="tab-btn px-3 py-2 text-sm" data-tab="glossary"  aria-selected="false">Glossary</button>
    <button class="tab-btn px-3 py-2 text-sm" data-tab="source"    aria-selected="false">Source</button>
  </nav>
</header>
<main class="px-6 py-8 space-y-8 grow">
  <!-- Overview -->
  <section id="tab-overview" class="space-y-4">
    <article class="card p-6">
      <h2 class="text-xl font-semibold section-title mb-2">Context & Takeaways</h2>
      <p id="ovr-intro" class="mb-3"></p>
      <ul id="ovr-bullets" class="list-disc pl-5 space-y-1"></ul>
    </article>
    <div id="ovr-cards" class="grid md:grid-cols-2 gap-4"></div>
  </section>
  <!-- Concepts -->
  <section id="tab-concepts" class="hidden space-y-4">
    <article class="card p-6">
      <h2 class="text-xl font-semibold section-title mb-2">Core Concepts</h2>
      <p id="con-intro" class="mb-3"></p>
      <ul id="con-bullets" class="list-disc pl-5 space-y-1"></ul>
    </article>
    <div id="concepts-grid" class="grid md:grid-cols-2 gap-4"></div>
  </section>
  <!-- Evidence / Data -->
  <section id="tab-data" class="hidden space-y-4">
    <article class="card p-6">
      <h2 class="text-xl font-semibold section-title mb-2">Evidence / Data</h2>
      <p id="dat-intro" class="mb-3"></p>
      <ul id="dat-bullets" class="list-disc pl-5 space-y-1"></ul>
    </article>
    <div id="data-grid" class="grid md:grid-cols-2 gap-4"></div>
  </section>
  <!-- Timeline -->
  <section id="tab-timeline" class="hidden space-y-4">
    <article class="card p-6">
      <h2 class="text-xl font-semibold section-title mb-2">Timeline</h2>
      <p id="tim-intro" class="mb-3"></p>
      <ul id="tim-bullets" class="list-disc pl-5 space-y-1"></ul>
    </article>
    <ol id="timeline-list" class="space-y-3"></ol>
  </section>
  <!-- Critiques -->
  <section id="tab-critiques" class="hidden space-y-4">
    <article class="card p-6">
      <h2 class="text-xl font-semibold section-title mb-2">Critiques & Debates</h2>
      <p id="cri-intro" class="mb-3"></p>
      <ul id="cri-bullets" class="list-disc pl-5 space-y-1"></ul>
    </article>
    <div id="critiques-grid" class="grid md:grid-cols-2 gap-4"></div>
  </section>
  <!-- Glossary -->
  <section id="tab-glossary" class="hidden space-y-4">
    <article class="card p-6">
      <h2 class="text-xl font-semibold section-title mb-2">Glossary</h2>
      <dl id="glossary-grid" class="grid md:grid-cols-2 gap-4"></dl>
    </article>
  </section>
  <!-- Source -->
  <section id="tab-source" class="hidden space-y-4">
    <article class="card p-6">
      <h2 class="text-xl font-semibold section-title mb-2">Source & Provenance</h2>
      <ul id="prov-list" class="list-disc pl-5 space-y-1 mb-4"></ul>
      <h3 class="font-semibold mb-2">Quotes</h3>
      <ul id="quotes-list" class="list-disc pl-5 space-y-1"></ul>
    </article>
  </section>
</main>
<footer class="px-6 py-8 text-sm" style="color:var(--muted)">© 2025 Report SPA • Single-file template</footer>
<!-- ========= CONTENT JSON DATA ISLAND ========= -->
<script id="report" type="application/json">
{
  "meta": {
    "title": "The Gospel According to Jürgen Moltmann",
    "subtitle": "The crucified God’s solidarity with suffering and the hope of resurrection",
    "report_provenance": [
      { "label": "Compiled by", "detail": "Instructor v6.2 — Moltmann Session" },
      { "label": "Last updated", "detail": "2025-09-06" },
      { "label": "Primary sources", "detail": "Mark 15:34; Isaiah 53; Romans 8:18–25" },
      { "label": "Secondary sources", "detail": "Jürgen Moltmann, The Crucified God (1972); Theology of Hope (1964)" }
    ]
  },
  "sections": [
    {
      "id": "overview",
      "title": "Overview",
      "intro": "Moltmann presents the Gospel as God’s entry into human suffering at the cross and God’s opening of the future through resurrection.",
      "bullets": [
        "God suffers with humanity, not apart from it.",
        "The cross is divine solidarity with the forsaken.",
        "Resurrection inaugurates hope and future for all creation.",
        "The Gospel brings liberation and comfort to the oppressed."
      ]
    },
    {
      "id": "concepts",
      "title": "Core Concepts",
      "items": [
        { "id": "c1", "label": "The Crucified God", "summary": "God suffers", "detail": "Father and Son experience abandonment together at the cross." },
        { "id": "c2", "label": "Solidarity", "summary": "God with the oppressed", "detail": "Christ’s suffering discloses God’s nearness to the forsaken." },
        { "id": "c3", "label": "Hope", "summary": "Future opened", "detail": "Resurrection guarantees that death and injustice do not prevail." }
      ]
    },
    {
      "id": "data",
      "title": "Evidence / Data",
      "items": [
        { "id": "d1", "label": "Mark 15:34", "summary": "Cry of dereliction", "detail": "Jesus’ abandonment reveals God’s entry into despair." },
        { "id": "d2", "label": "Isaiah 53", "summary": "Suffering Servant", "detail": "Christ bears humanity’s griefs, showing God’s chosen one suffers with us." },
        { "id": "d3", "label": "Romans 8", "summary": "Hope for creation", "detail": "The resurrection promises cosmic renewal." }
      ]
    },
    {
      "id": "timeline",
      "title": "Timeline",
      "items": [
        { "id": "t1", "label": "30 CE — Crucifixion and Resurrection", "detail": "Events that ground Moltmann’s theology." },
        { "id": "t2", "label": "1964 — Theology of Hope", "detail": "Moltmann begins developing eschatological lens." },
        { "id": "t3", "label": "1972 — The Crucified God", "detail": "Systematic presentation of divine suffering." }
      ]
    },
    {
      "id": "critiques",
      "title": "Critiques & Debates",
      "items": [
        { "id": "k1", "label": "Trinitarian Concerns", "summary": "Risk of rupture", "detail": "Critics fear Moltmann implies division within the Trinity." },
        { "id": "k2", "label": "Impassibility", "summary": "Classical doctrine challenged", "detail": "Traditionalists resist the claim that God truly suffers." }
      ]
    }
  ],
  "glossary": [
    { "term": "Impassibility", "definition": "Classical doctrine that God cannot suffer; challenged by Moltmann." },
    { "term": "Solidarity", "definition": "God’s identification with human suffering through the cross." },
    { "term": "Hope", "definition": "Confidence in the future guaranteed by Christ’s resurrection." }
  ],
  "quotes": [
    { "text": "My God, my God, why have you forsaken me?", "ref": "Mark 15:34" },
    { "text": "Surely he has borne our griefs and carried our sorrows.", "ref": "Isaiah 53:4" }
  ]
}
</script>
<!-- =========================================== -->
<!-- ===== App Logic (unchanged except theme wiring) ===== -->
<script>
const $ = (id)=>document.getElementById(id);
let DATA={};
try{
  DATA = JSON.parse(document.getElementById('report').textContent);
}catch(e){
  DATA = { meta:{title:'Report SPA — Template',subtitle:'Paste content JSON into the <script id="report"> block.'}, sections:[], glossary:[], quotes:[] };
}
// Header
$('appTitle').textContent = DATA.meta?.title || 'Untitled';
$('appSubtitle').textContent = DATA.meta?.subtitle || '';
// Theme selector
const themeSel = document.getElementById('theme');
function applyTheme(v){
  document.body.classList.remove('theme-navy','theme-emerald-paper','theme-cyber-blue','theme-emerald-gold');
  // default = Newspaper (root tokens), so no class
  if(v==='navy')           document.body.classList.add('theme-navy');
  if(v==='emerald-paper')  document.body.classList.add('theme-emerald-paper');
  if(v==='cyber-blue')     document.body.classList.add('theme-cyber-blue');
  if(v==='emerald-gold')   document.body.classList.add('theme-emerald-gold');
  localStorage.setItem('hays-theme', v);
}
applyTheme(localStorage.getItem('hays-theme')||'newspaper');
themeSel.value = localStorage.getItem('hays-theme')||'newspaper';
themeSel.addEventListener('change', e=>applyTheme(e.target.value));
// Helpers
const sec = (id)=> (DATA.sections||[]).find(s=>s.id===id);
function fillContext(sectionId, introId, bulletsId){
  const s = sec(sectionId); if(!s) return;
  const introEl = $(introId), ul = $(bulletsId);
  if (introEl) introEl.textContent = s.intro || '';
  if (ul) { ul.innerHTML=''; (s.bullets||[]).forEach(b=>{ const li=document.createElement('li'); li.textContent=b; ul.appendChild(li); }); }
}
function renderItems(wrapId, items){
  const wrap = $(wrapId); if(!wrap) return;
  wrap.innerHTML='';
  (items||[]).forEach(it=>{
    const el=document.createElement('article');
    el.className='card p-5';
    el.innerHTML = `<h3 class="font-semibold mb-1 section-title">${it.label||''}</h3>
                    <p class="text-sm" style="color:var(--muted)">${it.summary||''}</p>
                    <p class="mt-1">${it.detail||''}</p>`;
    wrap.appendChild(el);
  });
}
// Overview
(function(){
  const s = sec('overview'); if(!s) return;
  fillContext('overview','ovr-intro','ovr-bullets');
  renderItems('ovr-cards', s.items);
})();
// Concepts
(function(){
  const s = sec('concepts'); if(!s) return;
  document.getElementById('tab-concepts').classList.remove('hidden');
  fillContext('concepts','con-intro','con-bullets');
  renderItems('concepts-grid', s.items);
})();
// Data
(function(){
  const s = sec('data'); if(!s) return;
  document.getElementById('tab-data').classList.remove('hidden');
  fillContext('data','dat-intro','dat-bullets');
  renderItems('data-grid', s.items);
})();
// Timeline
(function(){
  const s = sec('timeline'); if(!s) return;
  document.getElementById('tab-timeline').classList.remove('hidden');
  fillContext('timeline','tim-intro','tim-bullets');
  const list = $('timeline-list'); list.innerHTML='';
  (s.items||[]).forEach(it=>{
    const li=document.createElement('li');
    li.className='card p-4';
    li.innerHTML = `<div class="font-semibold section-title">${it.label||''}</div><div>${it.detail||''}</div>`;
    list.appendChild(li);
  });
})();
// Critiques
(function(){
  const s = sec('critiques'); if(!s) return;
  document.getElementById('tab-critiques').classList.remove('hidden');
  fillContext('critiques','cri-intro','cri-bullets');
  renderItems('critiques-grid', s.items);
})();
// Glossary
(function(){
  if(!(DATA.glossary||[]).length) return;
  document.getElementById('tab-glossary').classList.remove('hidden');
  const wrap=$('glossary-grid'); wrap.innerHTML='';
  (DATA.glossary||[]).forEach(g=>{
    const d=document.createElement('div');
    d.className='card p-5';
    d.innerHTML=`<dt class="font-semibold mb-1 section-title">${g.term||''}</dt><dd>${g.definition||''}</dd>`;
    wrap.appendChild(d);
  });
})();
// Source
(function(){
  const hasProv = (DATA.meta?.report_provenance||[]).length;
  const hasQuotes = (DATA.quotes||[]).length;
  if(!hasProv && !hasQuotes) return;
  document.getElementById('tab-source').classList.remove('hidden');
  const pl=$('prov-list'); pl.innerHTML='';
  (DATA.meta?.report_provenance||[]).forEach(p=>{
    const li=document.createElement('li'); li.textContent = `${p.label||''}: ${p.detail||''}`; pl.appendChild(li);
  });
  const ql=$('quotes-list'); ql.innerHTML='';
  (DATA.quotes||[]).forEach(q=>{
    const li=document.createElement('li'); li.textContent = `"${q.text||''}" — ${q.ref||''}`; ql.appendChild(li);
  });
})();
// Tabs
const tabs = Array.from(document.querySelectorAll('[data-tab]'));
const panels = {
  overview: document.getElementById('tab-overview'),
  concepts: document.getElementById('tab-concepts'),
  data: document.getElementById('tab-data'),
  timeline: document.getElementById('tab-timeline'),
  critiques: document.getElementById('tab-critiques'),
  glossary: document.getElementById('tab-glossary'),
  source: document.getElementById('tab-source')
};
function activate(key){
  for(const [k,el] of Object.entries(panels)){ el.classList.toggle('hidden', k!==key); }
  tabs.forEach(b=> b.setAttribute('aria-selected', b.dataset.tab===key ? 'true':'false'));
  localStorage.setItem('hays-tab', key);
  location.hash = key;
}
tabs.forEach(btn=> btn.addEventListener('click', ()=>activate(btn.dataset.tab)));
window.addEventListener('hashchange', ()=>{ const k=location.hash.replace('#',''); if(panels[k]) activate(k); });
activate(panels[location.hash.replace('#','')] ? location.hash.replace('#','') : (localStorage.getItem('hays-tab')||'overview'));
</script>
</body>
</html>


